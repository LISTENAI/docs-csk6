# 系统线程


系统线程是内核在系统初始化期间自动生成的线程。

内核会创建以下系统线程:

## 主线程


这个线程执行内核初始化，然后调用应用程序的main()函数(如果有定义)。


默认情况下，主线程配置为最高的可抢占线程优先级(即0)。如果内核没有配置支持可抢占线程，主线程配置为最低的协作线程优先级(即-1)。


主线程(`main thread`)在执行内核初始化或执行应用程序的`main()`函数时是一个基本线程。这意味着如果该线程中止(abort)，会引发一个致命的系统错误。如果`main()`没有被定义，或者它执行后做了一个正常的返回，那么主线程就会正常结束，不会引发错误。

## 空闲线程


当系统中无其他就绪线程存在时，会执行空闲线程(idle thread)。可以在空闲线程中执行电源管理模块以省电，否则空闲线程只会执行一个“什么都不做”的循环。只要系统在运行，空闲线程就一直存在，并且永远不会结束。


空闲线程永远配置为最低优先级线程。如果这使它成为一个协作式线程，那么空闲线程会反复让出CPU，以使应用程序的其他线程在需要的时候运行。


空闲线程是一个必不可少的线程，这意味着如果线程中止，会引发一个致命的系统错误。

根据应用程序和内核的配置，也会创建其他的系统线程。比如，如果使用了系统工作队列(system workqueue)，会创建一个系统线程用于执行工作项(work items)。