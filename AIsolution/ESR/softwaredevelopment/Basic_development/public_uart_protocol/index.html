<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.2">
<title data-react-helmet="true">CSK UART标准串口通信协议 | 聆思文档中心</title><meta data-react-helmet="true" property="og:url" content="https://github.com/LISTENAI/docs-csk6/AIsolution/ESR/softwaredevelopment/Basic_development/public_uart_protocol"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="CSK UART标准串口通信协议 | 聆思文档中心"><meta data-react-helmet="true" name="description" content="| Version | 最后更新时间 | 适用固件版本 |"><meta data-react-helmet="true" property="og:description" content="| Version | 最后更新时间 | 适用固件版本 |"><link data-react-helmet="true" rel="shortcut icon" href="/docs-csk6/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://github.com/LISTENAI/docs-csk6/AIsolution/ESR/softwaredevelopment/Basic_development/public_uart_protocol"><link data-react-helmet="true" rel="alternate" href="https://github.com/LISTENAI/docs-csk6/AIsolution/ESR/softwaredevelopment/Basic_development/public_uart_protocol" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://github.com/LISTENAI/docs-csk6/AIsolution/ESR/softwaredevelopment/Basic_development/public_uart_protocol" hreflang="x-default"><link rel="stylesheet" href="/docs-csk6/assets/css/styles.b048446a.css">
<link rel="preload" href="/docs-csk6/assets/js/runtime~main.b310a82c.js" as="script">
<link rel="preload" href="/docs-csk6/assets/js/main.bebb98a6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_vO2r">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" titleclassname="navbar__title" href="/docs-csk6/"><img src="/docs-csk6/img/logo_light.svg" alt="LSOpen Logo" class="themedImage_K3WP themedImage--light_Fy0T navbar__logo"><img src="/docs-csk6/img/logo_dark.svg" alt="LSOpen Logo" class="themedImage_K3WP themedImage--dark_V9oi navbar__logo"></a><a class="navbar__item navbar__link" href="/docs-csk6/chips/4002/Chip_information_4002">芯片</a><a class="navbar__item navbar__link" href="/docs-csk6/tools/LStudio">工具</a><a class="navbar__item navbar__link" href="/docs-csk6/AIsolution/ESR/Quick_start/Scheme_introduction">AI语音应用方案</a><a class="navbar__item navbar__link" href="/docs-csk6/Industrysolution/Scanning_pen/Scheme_introduction">行业Turnkey解决方案</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs-csk6/FAQ/front_page">FAQ</a><a class="navbar__item navbar__link" href="/docs-csk6/school/school">视频课程</a><a class="navbar__item navbar__link" href="/docs-csk6/workorder/workorder">工单</a><div class="react-toggle displayOnlyInLargeViewport_a-w0 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_8pH0"><img src="/docs-csk6/img/light.svg" alt="" class="themedImage_K3WP themedImage--light_Fy0T"><img src="/docs-csk6/img/unlight.svg" alt="" class="themedImage_K3WP themedImage--dark_V9oi"></span></div><div class="react-toggle-track-x"><span class="toggle_8pH0"><img src="/docs-csk6/img/undark.svg" alt="" class="themedImage_K3WP themedImage--light_Fy0T"><img src="/docs-csk6/img/dark.svg" alt="" class="themedImage_K3WP themedImage--dark_V9oi"></span></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_I7kZ"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_Zg7X searchBarLoadingRing_J5Ez"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" titleclassname="navbar__title" href="/docs-csk6/"><img src="/docs-csk6/img/logo_light.svg" alt="LSOpen Logo" class="themedImage_K3WP themedImage--light_Fy0T navbar__logo"><img src="/docs-csk6/img/logo_dark.svg" alt="LSOpen Logo" class="themedImage_K3WP themedImage--dark_V9oi navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs-csk6/chips/4002/Chip_information_4002">芯片</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-csk6/tools/LStudio">工具</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-csk6/AIsolution/ESR/Quick_start/Scheme_introduction">AI语音应用方案</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-csk6/Industrysolution/Scanning_pen/Scheme_introduction">行业Turnkey解决方案</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-csk6/FAQ/front_page">FAQ</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-csk6/school/school">视频课程</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-csk6/workorder/workorder">工单</a></li></ul></div></div></div></nav><nav class="navbar subnavbar--fixed-top sub-navbar" style="padding:0"><div class="navbar__inner subnavbar__inner"><div class="navbar__items" style="overflow-x:auto;padding:var(--ifm-navbar-padding-vertical) var(--ifm-navbar-padding-horizontal)"><a aria-current="page" class="subnavbar__item subnavbar__link subnavbar__link--active" dirname="/AIsolution" href="/docs-csk6/AIsolution/ESR/Quick_start/Scheme_introduction">离线语音</a><a class="subnavbar__item subnavbar__link" dirname="/AIsolution" href="/docs-csk6/AIsolution/dsp/readme">离在线语音</a></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_Ol8-"><aside class="docSidebarContainer_UfDv"><div class="sidebar_OMtR"><nav class="menu menu--responsive thin-scrollbar menu_2y2e menuWithAnnouncementBar_Lwkw" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_IcOF" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--first menu__link--sublist" type="first" href="#!">快速入门</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/Quick_start/Scheme_introduction">方案介绍</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/Quick_start/Quick_start">快速开始</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/Quick_start/download_firmware">体验固件下载</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--first menu__link--sublist" type="first" href="#!">产品设计</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/design/vui">离线语音交互设计指南</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/design/vui2">配置唤醒词、命令词、提示语</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--first menu__link--sublist" type="first" href="#!">硬件设计</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/Hardwaredevelopment/hardware_guide">硬件参考设计</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--first menu__link--sublist" type="first" href="#!">算法开发</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/algorithm/algorithm">CSK 外语资源集成说明</a></li></ul></li><li class="menu__list-item menu__list-item--current"><a class="menu__link menu__link--first menu__link--sublist menu__link--active" type="first" href="#!">软件开发</a><ul class="menu__list"><li class="menu__list-item menu__list-item--current"><a class="menu__link menu__link--sublist menu__link--active" type="" href="#!" tabindex="0">基础开发</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs-csk6/AIsolution/ESR/softwaredevelopment/Basic_development/config_application">源码应用配置</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs-csk6/AIsolution/ESR/softwaredevelopment/Basic_development/config_hardware">芯片引脚功能配置</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs-csk6/AIsolution/ESR/softwaredevelopment/Basic_development/peripheral_config">外围引脚配置</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs-csk6/AIsolution/ESR/softwaredevelopment/Basic_development/public_uart_protocol">CSK UART标准串口通信协议</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs-csk6/AIsolution/ESR/softwaredevelopment/Basic_development/audio_transmission">音频传输</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="0">进阶开发</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/softwaredevelopment/Advanced_development/csk_sdk_demo">CSK SDK开发示例</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/softwaredevelopment/Advanced_development/csk_driver_demo">CSK硬件驱动开发示例</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/softwaredevelopment/Advanced_development/factory_config">产测开发</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs-csk6/AIsolution/ESR/softwaredevelopment/software_material">开发资料下载</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--first menu__link--sublist" type="first" href="#!">调优测试</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/Optimization_and_testing/optimize_skills">命令词阈值调节技巧</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/Optimization_and_testing/test">实验室语音效果测试指南</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/Optimization_and_testing/auto_optimize">入门调优与自动调优</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/Optimization_and_testing/abnormalcheck">效果测试异常排查</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/Optimization_and_testing/test_material">效果测试相关资料下载</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--first menu__link--sublist" type="first" href="#!">FAQ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/AIsolution/ESR/FAQ/faq">常见问题</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_dRYS"><div class="container padding-top--md padding-bottom--lg center-container"><div class="row"><div class="col docItemCol_+xOG"><div class="docItemContainer_c+5G"><article><div class="markdown"><header><h1 class="h1Heading_5RMM">CSK UART标准串口通信协议</h1></header><table><thead><tr><th align="left">Version</th><th align="left">最后更新时间</th><th align="left">适用固件版本</th></tr></thead><tbody><tr><td align="left">1.3</td><td align="left">2020.03.15</td><td align="left">4002-3.1.4及以上</td></tr><tr><td align="left">1.4</td><td align="left">2021.09.30</td><td align="left">4002-4.3.0及以上</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="变更记录"></a>变更记录<a class="hash-link" href="#变更记录" title="Direct link to heading">#</a></h2><table><thead><tr><th align="left">版本</th><th align="left">变更内容</th><th align="left">变更人</th><th align="left">审核人</th><th align="left">日期</th></tr></thead><tbody><tr><td align="left">1.0</td><td align="left">首版发布</td><td align="left">朱昊</td><td align="left">黄凯仪</td><td align="left">2020-01-08</td></tr><tr><td align="left">1.1</td><td align="left">更改系统配置描述</td><td align="left">朱昊</td><td align="left">黄凯仪</td><td align="left">2020-02-21</td></tr><tr><td align="left">1.2</td><td align="left">1. 固定标记修改：命令帧为0xFF 0x00，响应帧（from CSK）为0xF0 0x00。<br>2. 弃用原有0x03版本查询命令帧，新增0x19查询所有版本号命令帧。<br>3. 新增0x05系统休眠命令帧。<br>4. 新增0x16设置ADC增益命令帧。<br>5. 新增0x17设置命令词识别启停命令帧。<br>6. 新增0x18设置UAC通道命令帧。<br>7. 新增0xFF心跳命令帧。<br>8. 弃用原有0x02固件版本反馈响应帧，新增0x04版本查询反馈响应帧。<br>9. 优化0x10识别结果反馈命令数据参数。</td><td align="left">刘钟蔚</td><td align="left">朱元恒</td><td align="left">2020-12-20</td></tr><tr><td align="left">1.3</td><td align="left">1. 修复0x10 命令帧的数据帧校验<br>2. 修改0x11命令帧的描述<br>3. 修改0x17 命令帧的参数描述</td><td align="left">朱元恒</td><td align="left">郝飞虎</td><td align="left">2021-03-15</td></tr><tr><td align="left">1.4</td><td align="left">1. 增加0x40命令帧（自定义命令词）<br>2. 增加0x40响应桢（自定义命令词结果反馈）</td><td align="left">朱元恒</td><td align="left">郝飞虎</td><td align="left">2021-09-30</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="1-概述"></a>1 概述<a class="hash-link" href="#1-概述" title="Direct link to heading">#</a></h2><p>CSK作为协处理器时，通过串口通信，为外围模块提供封装的AI能力。此处串口协议我们通过两层协议，来提供完整可靠的CSK API。这两层协议分别为：传输协议、业务协议。传输协议主要负责UART底层的数据进行可靠性保障，而业务协议主要是对CSK能力进行定义，提供可扩展的API。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="2-传输协议"></a>2 传输协议<a class="hash-link" href="#2-传输协议" title="Direct link to heading">#</a></h2><p>传输协议，是以接收到的UART原始数据为基础，定义CSK数据帧格式，对流式的二进制数据，进行分帧工作，解析出对应的帧信息，向上传递到业务协议层。传输协议的数据帧格式如下：</p><table><tr><th colspan="6" align="center">帧头</th><th colspan="5" align="center">帧数据</th></tr><tr><td colspan="2" align="center">固定标记</td><td colspan="2" align="center">帧长度</td><td align="center">帧编号</td><td align="center">帧头校验</td><td align="center">类型</td><td align="center">地址</td><td align="center">命令字</td><td align="center">命令数据</td><td align="center">帧数据校验</td></tr><tr><td align="center">FTAGL</td><td align="center">FTAGH</td><td align="center">FLENL</td><td align="center">FLENH</td><td align="center">FUID</td><td align="center">LCHK</td><td align="center">TYPE</td><td align="center">REG</td><td align="center">CMD</td><td align="center">DATA</td><td align="center">DCHK</td></tr></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="21-帧头说明"></a>2.1 帧头说明<a class="hash-link" href="#21-帧头说明" title="Direct link to heading">#</a></h3><table><thead><tr><th align="left">名称</th><th align="left">长度（byte）</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">固定标记</td><td align="left">2</td><td align="left">固定为FTAGL = 0x58，FTAGH = 0x46。</td></tr><tr><td align="left">帧长度</td><td align="left">2</td><td align="left">由两个字节组成，低字节在前，高字节在后；表示整个命令帧的长度。</td></tr><tr><td align="left">帧序号</td><td align="left">1</td><td align="left">表示命令帧的序号，确保短时唯一。</td></tr><tr><td align="left">帧头校验</td><td align="left">1</td><td align="left">采用按字节累加和校验；<br>即： （FTAGL + FTAGH + FLENL + FLENH + FUID + LCHK）% 256 = 0</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="22-帧数据说明"></a>2.2 帧数据说明<a class="hash-link" href="#22-帧数据说明" title="Direct link to heading">#</a></h3><table><thead><tr><th align="left">名称</th><th align="left">长度（byte）</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">类型</td><td align="left">1</td><td align="left">命令帧为0xF0，响应帧（from CSK）为0xFF。</td></tr><tr><td align="left">地址</td><td align="left">1</td><td align="left">预留，固定为0x00。</td></tr><tr><td align="left">命令字</td><td align="left">1</td><td align="left">表示命令帧/响应帧的命令字。</td></tr><tr><td align="left">命令数据</td><td align="left">X</td><td align="left">不同命令类型，有不同的命令数据结构，具体见：业务协议。</td></tr><tr><td align="left">帧数据校验</td><td align="left">1</td><td align="left">采用按字节累加和校验；即：（TYPE + REG + CMD + DATA + DCHK）% 256 = 0</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="3-业务协议"></a>3 业务协议<a class="hash-link" href="#3-业务协议" title="Direct link to heading">#</a></h2><p>数据帧，对于CSK而言，分为命令帧、响应帧，通过帧数据的固定标记，进行区分。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="31-csk命令帧"></a>3.1 CSK命令帧<a class="hash-link" href="#31-csk命令帧" title="Direct link to heading">#</a></h3><p>外围芯片，可通过“命令帧”来操作CSK，帧数据标记为：0xF0 0x00</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x01系统设置"></a>0x01系统设置<a class="hash-link" href="#0x01系统设置" title="Direct link to heading">#</a></h3><table><tr><td align="center">名称</td><td align="center">发送数据</td><td align="center">字节数量</td><td align="center">说明</td></tr><tr><td align="center">命令类型</td><td align="center">0x01</td><td align="center">1字节</td><td>系统设置。 <br>包括：系统音量设置、就绪信号电平设置、系统闲置休眠时间、识别命令词上传格式等设置。</td></tr><tr><td rowspan="4" align="center">命令数据</td><td align="center">VOL</td><td align="center">1字节</td><td>设置系统音量，仅需开机初始化一次：<br>【0x00~0x0A】有效值；<br>【0xFE】默认值：0x08；<br>【0xFF】历史值；<br>【其它】无效值，系统将反馈参数错误信息</td></tr><tr><td align="center">READY</td><td align="center">1字节</td><td>设置 RDY 电平触发方式，仅需开机初始化一次：<br>【0x00】低电平；<br>【0xAA】高电平；<br>【0xFE】默认值：低电平；<br>【0xFF】历史值；<br>【其它】无效值，系统将反馈参数错误信息</td></tr><tr><td align="center">SLEEP_TIME</td><td align="center">1字节</td><td>遵循默认值即可。<br>【0x00】默认值：0x00；<br>【0x01~0xF0】有效值；<br>【0xFE】默认值：0x06；<br>【0xFF】历史值；<br>【其它】无效值，系统将反馈参数错误信息</td></tr><tr><td align="center">OUT_FORMAT</td><td align="center">1字节</td><td>设置识别结果上传内容。启动识别模式，根据输入音频有识别结果后，会根据此参数的不同，上报给上位机不同的格式的识别结果：<br>【0x00】上报命令词KEYID及唤醒得分和命令词文本，默认值；<br>【0x01】仅上报命令词KEYID；<br>【0x02】仅上报命令词文本；<br>【其它】无效值，系统将反馈参数错误信息</td></tr></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>使用示例</h5></div><div class="admonition-content"><p>命令帧:设置播音音量为 7 级，RDY 高电平：</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0E 00 00 54 F0 00 01 07 AA 0A 00 54</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>响应帧：命令帧正确反馈</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 08 4F FF 00 01 10 F0</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><blockquote><p>查看<a href="#0x01%E5%91%BD%E4%BB%A4%E5%B8%A7%E5%8F%8D%E9%A6%88">响应帧：0x01 命令帧反馈</a></p></blockquote></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x02串口设置"></a>0x02串口设置<a class="hash-link" href="#0x02串口设置" title="Direct link to heading">#</a></h3><p>设置串口波特率。串口波特率设置完成后，当前帧的状态反馈，如收到正确命令帧等仍是使用之前的波特率发送的（用户可以在接收到正确命令帧之后，更换所需波特率）。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x02</td><td>1字节</td><td></td></tr><tr><td>命令数据</td><td>RATE</td><td>1字节</td><td>配置波特率（单位：bps）：<br> 【0x00】9600；<br>  【0x01】19200； <br> 【0x02】57600；<br>  【0x03】115200默认值； <br> 【0x04】345600；<br>  【其它】无效值，系统将反馈参数错误信息；<br> 需要注意的是，不同版本的默认通信波特率值不一样，详见版本查询命令中相关说明，但打印功能串口的波特率固定为115200。</td></tr></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>使用示例</h5></div><div class="admonition-content"><p>命令帧:设置波特率为 115200</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 00 57 F0 00 02 03 0B</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>响应帧：命令帧正确反馈</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 02 55 FF 00 01 10 F0</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><blockquote><p>查看<a href="#0x01%E5%91%BD%E4%BB%A4%E5%B8%A7%E5%8F%8D%E9%A6%88">响应帧：0x01 命令帧反馈</a></p></blockquote></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x03版本查询已弃用"></a>0x03版本查询（已弃用）<a class="hash-link" href="#0x03版本查询已弃用" title="Direct link to heading">#</a></h3><p>已弃用。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x04状态查询"></a>0x04状态查询<a class="hash-link" href="#0x04状态查询" title="Direct link to heading">#</a></h3><p>查询当前系统工作运行状态。模块在收到该命令后，将反馈系统状态数据包，详见响应帧部分说明。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x04</td><td>1字节</td><td></td></tr></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>使用示例</h5></div><div class="admonition-content"><p>命令帧: 状态查询
58 46 0A 00 00 58 F0 00 04 0C</p><p>响应帧：</p><p>命令帧正确反馈：</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 04 53 FF 00 01 10 F0</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>运行状态反馈：</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 05 52 FF 00 03 10 EE</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><blockquote><p>查看<a href="#0x01%E5%91%BD%E4%BB%A4%E5%B8%A7%E5%8F%8D%E9%A6%88">响应帧：0x01 命令帧反馈</a></p><p>查看<a href="#0x03%E8%BF%90%E8%A1%8C%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88">响应帧：0x03运行状态反馈</a></p></blockquote></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x05系统休眠已弃用"></a>0x05系统休眠（已弃用）<a class="hash-link" href="#0x05系统休眠已弃用" title="Direct link to heading">#</a></h3><p>已弃用。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x10停止所有模块"></a>0x10停止所有模块<a class="hash-link" href="#0x10停止所有模块" title="Direct link to heading">#</a></h3><p>停止当前正在工作的功能模块。包括：语音播放、语音识别、语音唤醒等，停止后进入空闲状态。需要注意的是，通过该指令强制系统结束当前运行的功能模块后，是不会收到当前模块运行结束状态反馈的，例如当前正在播音，发送该命令后，模块不会再发送播音停止状态反馈（正常播音结束后会有该状态反馈）。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x10</td><td>1字节</td><td></td></tr></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>使用示例</h5></div><div class="admonition-content"><p>命令帧: 停止所有模块</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0A 00 00 58 F0 00 10 00</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>响应帧：命令帧正确反馈</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 08 4F FF 00 01 10 F0</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><blockquote><p>查看<a href="#0x01%E5%91%BD%E4%BB%A4%E5%B8%A7%E5%8F%8D%E9%A6%88">响应帧：0x01 命令帧反馈</a></p></blockquote></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x11启动识别模式"></a>0x11启动识别模式<a class="hash-link" href="#0x11启动识别模式" title="Direct link to heading">#</a></h3><p>启动语音识别命令。执行该命令后，系统将根据设置的参数进行语音识别，包括：前置播音、识别模式、识别超时时间等。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x11</td><td>1字节</td><td></td></tr><tr><td rowspan="5">命令数据</td><td>VID</td><td>2字节</td><td>由两个字节组成，低字节在前，高字节在后；可以且仅支持在启动识别前播放一条提示音，录音播放完成后，将自动启动识别，录音 ID 详见播音命令中的说明。</td></tr><tr><td>MODE</td><td>4 bit</td><td>用来指定识别模式，和BEAM、LOOP共同组成一个字节，MODE占第0-3位。 <br>【0x00】wakeup模式。该模式仅支持唤醒，唤醒成功后，返回唤醒结果；注意：唤醒是永久等待的，直到唤醒成功； <br> 【0x01】ASR模式。该模式仅支持识别，识别成功后，返回识别结果；该模式必须指定BEAM。此模式的RT参数可选； <br>【0x02】oneshot：即一次唤醒，一次识别；唤醒和识别成功都会返回结果；此模式的RT参数可选； <br>【0x03】多轮交互模式：即一次唤醒后，可以进行多次识别；唤醒和识别成功都会返回结果；此模式会一直进行直到识别超时或者接收到其它需要切换状态的指令才会退出识别； <br>【其它】无效值，系统将反馈参数错误信息；</td></tr><tr><td>BEAM</td><td>3 bit</td><td>指定识别模式的拾音波束，仅在MODE = 0x01时有效。和MODE、LOOP共同组成一个字节，BEAM占第4-6位。 <br>【0x00】主要拾音mic1方向音频（0°- 60°）； <br>【0x01】主要拾音中间方向音频（60°- 120°）； <br>【0x02】主要拾音mic2方向音频（120°- 180°）；<br> 【其它】无效值，系统将反馈参数错误信息</td></tr><tr><td>LOOP</td><td>1 bit</td><td>指定识别模式是否循环，和MODE、BEAM共同组成一个字节，LOOP占第7位。 <br>【0x00】单次。该模式下，识别出结果后，进入空闲状态；<br> 【0x01】循环。该模式下，识别出结果后，再次启动识别，循环直到接收到其它需要切换状态的指令才会退出识别；</td></tr><tr><td>RT</td><td>1字节</td><td>1 字节，仅用来指定命令词的识别超时，超时后会返回识别超时信息，单位：秒。注意：模块在等待唤醒时会永久等待，因此RT只在识别时起作用。 <br> 【0x00】默认值，即永久等待，不会超时； <br> 【0x01~0xFF】有效值；</td></tr></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>使用示例</h5></div><div class="admonition-content"><p>命令帧:</p><table border="0" cellpadding="0" cellspacing="0" width="1404" style="border-collapse:collapse;table-layout:fixed;width:553pt"><colgroup><col width="172" style="mso-width-source:userset;width:129pt"><col width="61" span="2" style="mso-width-source:userset;width:45.75pt"><col width="72" span="5" style="width:54pt"><col width="189" style="mso-width-source:userset;width:141.75pt"><col width="129" style="mso-width-source:userset;width:96.75pt"><col width="72" span="6" style="width:54pt"><tr height="19" style="mso-height-source:userset;height:14.4pt" id="r1"><td colspan="16" height="19" class="x69" style="height:14.4pt">命令帧结构</td></tr><tr height="20" style="mso-height-source:userset;height:15pt" id="r2"><td height="20" class="x69" style="height:15pt">字段</td><td class="x69">类型</td><td class="x69">地址</td><td class="x69">命令字</td><td colspan="2" class="x69">提示音ID</td><td class="x70" style="overflow:hidden"><div style="margin-left:-14px">指定识别模式是否循环</div></td><td colspan="3" class="x70">拾音波束</td><td colspan="4" class="x69">识别模式</td><td class="x69">超时时间</td><td class="x69"><span style="display:none"></span>累加和校验</td></tr><tr height="19" style="mso-height-source:userset;height:14.4pt" id="r3"><td height="19" class="x69" style="height:14.4pt">ID</td><td class="x69">TYPE</td><td class="x69">ADDR</td><td class="x69">CMD</td><td colspan="2" class="x69">VID</td><td class="x69">LOOP</td><td colspan="3" class="x69">BEAM</td><td colspan="4" class="x69">MODE</td><td class="x69">RT</td><td class="x69">DCHK</td></tr><tr height="19" style="mso-height-source:userset;height:14.4pt" id="r4"><td height="19" class="x69" style="height:14.4pt;">数据位长度</td><td class="x69">1 BYTE</td><td class="x69">1 BYTE</td><td class="x69">1 BYTE</td><td class="x69">1 BYTE</td><td class="x69">1 BYTE</td><td class="x71">Bit7</td><td class="x71">Bit6</td><td class="x71">Bit5</td><td class="x71">Bit4</td><td class="x71">Bit3</td><td class="x71">Bit2</td><td class="x71">Bit1</td><td class="x69">Bit0</td><td class="x69">1 BYTE</td><td class="x69">1 BYTE</td></tr> <tr height="19" style="mso-height-source:userset;height:14.4pt" id="r5"><td height="19" class="x69" style="height:14.4pt">二进制</td><td class="x69"></td><td class="x69"></td><td class="x69"></td><td class="x69"></td><td class="x69"></td><td class="x69">1</td><td class="x69">0</td><td class="x69">0</td><td class="x69">1</td><td class="x69">0</td><td class="x69">0</td><td class="x69">1</td><td class="x69">1</td><td class="x69"></td><td class="x69"></td></tr><tr height="19" style="mso-height-source:userset;height:14.4pt" id="r6"><td height="19" class="x69" style="height:14.4pt">示例帧数据(十六进制)</td><td class="x69">0xF0</td><td class="x69">0x00</td><td class="x69">0x11</td><td class="x69">0x00</td><td class="x69">0x01</td><td colspan="8" class="x69">0x93</td><td class="x69">0x14</td><td class="x69">0x57</td></tr><tr height="0" style="display:none"><td width="172" style="width:129pt"></td><td width="61" style="width:45.75pt"></td><td width="61" style="width:45.75pt"></td><td width="72" style="width:54pt"></td><td width="72" style="width:54pt"></td><td width="72" style="width:54pt"></td><td width="72" style="width:54pt"></td><td width="72" style="width:54pt"></td><td width="189" style="width:141.75pt"></td><td width="129" style="width:96.75pt"></td><td width="72" style="width:54pt"></td><td width="72" style="width:54pt"></td><td width="72" style="width:54pt"></td><td width="72" style="width:54pt"></td><td width="72" style="width:54pt"></td><td width="72" style="width:54pt"></td></tr></colgroup></table><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0E 00 00 54 F0 00 11 01 00 93 14 57</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>响应帧: 命令帧正确反馈</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 08 4F FF 00 01 10 F0</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>超时后会返回识别超时的响应帧</p></div></div><blockquote><p>查看<a href="#0x01%E5%91%BD%E4%BB%A4%E5%B8%A7%E5%8F%8D%E9%A6%88">响应帧：0x01 命令帧反馈</a></p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x12播放音频"></a>0x12播放音频<a class="hash-link" href="#0x12播放音频" title="Direct link to heading">#</a></h3><p>语音播放命令，可以播放一个语音序列，最多连续4个。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x12</td><td>1字节</td><td></td></tr><tr><td rowspan="4">命令数据</td><td>VID_1</td><td>2字节</td><td rowspan="4">有效值：从 1 到 MAX（其中 MAX 取决于实际存储的音频个数，最大取值0xFE）；<br>0x00 作为忽略值及默认值。<br>特殊说明：从第1条开始，如果第N（1&lt;=N&lt;=4）条语音 ID 为 0x00，则该语音之后的 4-N 条语音都将被忽略。<br>由两个字节组成，低字节在前，高字节在后；</td></tr><tr><td>VID_2</td><td>2字节</td></tr><tr><td>VID_3</td><td>2字节</td></tr><tr><td>VID_4</td><td>2字节</td></tr></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>使用示例</h5></div><div class="admonition-content"><p>命令帧：播放两条提示音，第 1 条为 0x01，第 2 条为 0x02，其余的两条为无效值。</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 12 00 00 50 F0 00 12 01 00 02 00 00 00 00 00 FB</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>响应帧：命令帧正确反馈</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 08 4F FF 00 01 10 F0</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>响应帧：播音结束反馈</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0A 00 0D 4B FF 00 20 E1</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><blockquote><p>查看<a href="#0x01%E5%91%BD%E4%BB%A4%E5%B8%A7%E5%8F%8D%E9%A6%88">响应帧：0x01 命令帧反馈</a></p><p>查看<a href="#0x20%E6%92%AD%E9%9F%B3%E7%BB%93%E6%9D%9F%E5%8F%8D%E9%A6%88">响应帧：0x20播音结束反馈</a></p></blockquote></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x15设置i2s输出通道"></a>0x15设置I2S输出通道<a class="hash-link" href="#0x15设置i2s输出通道" title="Direct link to heading">#</a></h3><p>I2S输出通道选择命令，模块支持输出四个通道信号的输出，即可以同时输出四路音频信号，每个通道为16bit数据，并且支持和7路物理音频声道（静音声道，左、右麦克风声道，左、右参考信号声道，左、右降噪后音频声道）的随意映射，实现自由组合输出，满足不同的上位机需求。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x15</td><td>1字节</td><td></td></tr><tr><td>命令数据</td><td>CHANNEL</td><td>4字节</td><td>输出通道配置，共4个字节其中：<br> 1字节：W表示映射到输出通道1的物理声道编号； <br>1字节：X表示映射到输出通道2的物理声道编号；<br> 1字节：Y表示映射到输出通道3的物理声道编号； <br>1字节：Z表示映射到输出通道4的物理声道编号；<br> 这里：W、X、Y、Z取值的有效范围均为0-6，对应的物理声道编号参见物理声道列表。</td></tr></table><p>通道号说明：</p><table><tr><td>通道号</td><td>通道描述</td><td>说明</td></tr><tr><td>0</td><td>静音通道</td><td>该声道将输出纯零静音数据，一般情况下座位占位或屏蔽通道使用。</td></tr><tr><td>1</td><td>MIC 1 信号</td><td>麦克风1的原始信号。</td></tr><tr><td>2</td><td>MIC 2 信号</td><td>麦克风2的原始信号（如有）。</td></tr><tr><td>3</td><td>参考信号 1</td><td>参考信号1的原始数据。</td></tr><tr><td>4</td><td>参考信号 2</td><td>参考信号2的原始数据（如有）。</td></tr><tr><td>6</td><td>降噪音频 1</td><td>前端算法后的第一路音频，主要用于识别处理。</td></tr><tr><td>6</td><td>降噪音频 2</td><td>前端算法后的第二路音频，主要用于识别处理。</td></tr><tr><td>7</td><td>测试通道</td><td>测试通道数据，主要用于验证是否存在数据丢失等</td></tr><tr><td>8</td><td>云端识别信号</td><td>前端算法后的第三路音频，主要用于云端识别。</td></tr></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>使用示例</h5></div><div class="admonition-content"><p>命令帧：播放两条提示音，设置音频物理声道 1、2、3、4 设置为对应通道配置
58 46 0E 00 00 54 F0 00 15 01 02 03 04 F1</p><p>响应帧：正确命令帧反馈</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 08 4F FF 00 01 10 F0</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><blockquote><p>查看<a href="#0x01%E5%91%BD%E4%BB%A4%E5%B8%A7%E5%8F%8D%E9%A6%88">响应帧：0x01 命令帧反馈</a></p></blockquote></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x16设置adc增益"></a>0x16设置ADC增益<a class="hash-link" href="#0x16设置adc增益" title="Direct link to heading">#</a></h3><p>动态修改ADC的增益，分别对就MIC1、MIC2、REF1、REF2的增益。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x16</td><td>1字节</td><td></td></tr><tr><td rowspan="4">命令数据</td><td>MIC_1</td><td>1字节</td><td rowspan="2">MIC信号增益，分为10级.</td></tr><tr><td>MIC_2</td><td>1字节</td></tr><tr><td>REF_1</td><td>1字节</td><td rowspan="2">回采信号增益，分为10级.</td></tr><tr><td>REF_2</td><td>1字节</td></tr></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>使用示例</h5></div><div class="admonition-content"><p>命令帧：设置 ADC 增益为 10 级(2 路 mic 增益 8，2 路回采增益为1)</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0E 00 00 54 F0 00 16 08 08 01 01 E8</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>响应帧：命令帧正确反馈</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 08 4F FF 00 01 10 F0</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><blockquote><p>查看<a href="#0x01%E5%91%BD%E4%BB%A4%E5%B8%A7%E5%8F%8D%E9%A6%88">响应帧：0x01 命令帧反馈</a></p></blockquote></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x17设置命令词识别的启停"></a>0x17设置命令词识别的启停<a class="hash-link" href="#0x17设置命令词识别的启停" title="Direct link to heading">#</a></h3><p>控制系统是否进入识别模式，即跳过唤醒，直接进入命令词的识别。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x17</td><td>1字节</td><td></td></tr><tr><td rowspan="4">命令数据</td><td>MODE_CTRL</td><td>1字节</td><td>控制命令词识别的进入、退出。<br> 注：只有在命令词识别状态下，才会有CAE第三路音频输出； <br>【0x00】进入命令词识别状态； <br>【0x01】退出命令词识别状态； 其他值无效；</td></tr><tr><td>DEF</td><td>1字节</td><td rowspan="3">保留字段，固定为 0x00</td></tr><tr><td>DEF</td><td>1字节</td></tr><tr><td>DEF</td><td>1字节</td></tr></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>使用示例</h5></div><div class="admonition-content"><p>命令帧：进入命令词识别状态</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0E 00 00 54 F0 00 17 00 00 00 00 F9</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>响应帧：命令帧正确反馈</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 08 4F FF 00 01 10 F0</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div></div></div><blockquote><p>查看<a href="#0x01%E5%91%BD%E4%BB%A4%E5%B8%A7%E5%8F%8D%E9%A6%88">响应帧：0x01 命令帧反馈</a></p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x18设置uac通道"></a>0x18设置UAC通道<a class="hash-link" href="#0x18设置uac通道" title="Direct link to heading">#</a></h3><p>当固件设置为通过UAC输出音频时，该命令可用来设置UAC输出的音频通道号。UAC仅输出一个通道音频。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x18</td><td>1字节</td><td></td></tr><tr><td>命令数据</td><td>CHANNEL</td><td>1字节</td><td>【0x00】静音输出，即输出数据为0； <br>【0x01】降噪后第一路音频； <br>【0x02】降噪后第二路音频；<br> 【0x03】降噪后第三路音频（用于云端识别）；<br> 【0x04】测试用的音频（用于测试UAC传输的完整性）；</td></tr></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>使用示例</h5></div><div class="admonition-content"><p>命令帧：输出第三路音频，用于云端识别</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 00 57 F0 00 18 03 F5</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>响应帧：命令帧正确反馈</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 08 4F FF 00 01 10 F0</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><blockquote><p>查看<a href="#0x01%E5%91%BD%E4%BB%A4%E5%B8%A7%E5%8F%8D%E9%A6%88">响应帧：0x01 命令帧反馈</a></p></blockquote></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x19查询所有版本号"></a>0x19查询所有版本号<a class="hash-link" href="#0x19查询所有版本号" title="Direct link to heading">#</a></h3><p>查询固件、算法、资源等版本号，需要查询哪些版本号，可通过参数配置。各版本号分开响应帧分开输出。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x19</td><td>1字节</td><td></td></tr><tr><td>命令数据</td><td>MODUL</td><td>1字节</td><td>需要查询版本号的模块； <br>【0x00】查询所有模块的版本号，各模块的版本号分开响应； <br>【0x01】查询固件版本号； <br>【0x02】查询CAE的版本号； <br>【0x03】查询miniESR的版本号；</td></tr></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>使用示例</h5></div><div class="admonition-content"><p>命令帧：查询固件 CAE 版本号</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 00 57 F0 00 19 02 F5</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>响应帧：命令帧正确反馈</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 08 4F FF 00 01 10 F0</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>响应帧：版本查询的反馈</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 4B 00 24 F3 FF 00 04 xxxx</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><blockquote><p>查看<a href="#0x01%E5%91%BD%E4%BB%A4%E5%B8%A7%E5%8F%8D%E9%A6%88">响应帧：0x01 命令帧反馈</a></p><p>查看<a href="#0x04%E7%89%88%E6%9C%AC%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%8F%8D%E9%A6%88">响应帧：0x04版本查询的反馈</a></p></blockquote></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x40自定义命令词"></a>0x40自定义命令词<a class="hash-link" href="#0x40自定义命令词" title="Direct link to heading">#</a></h3><p>增加、删除、修改命令词，也可恢复到出厂命令词设置。</p><blockquote><p>注意：此命令仅能在public模式下使用；此命令仅适用于3期算法，暂不支持4期算法；</p></blockquote><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x40</td><td>1字节</td><td></td></tr><tr><td rowspan="3">命令数据</td><td>keyword_type</td><td>1字节</td><td>命令词类型； <br>【0x00】唤醒词； <br>【0x01】命令词；</td></tr><tr><td>keyword_operation</td><td>1字节</td><td>命令词操作； <br>【0x00】增加； <br>【0x01】替换/修改；<br>【0x02】删除； <br>【0x03】恢复出厂命令词(注意此操作会重启CSK)；</td></tr><tr><td>data</td><td>285/36/0字节</td><td>增加和修改格式一样，字节数为285字节；删除操作，字节数为36字节；恢复出厂操作，则为0字节；</td></tr></table><p>如果keyword_operation为增加或修改时，data字节数为285，data的格式如下：</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td rowspan="9">data</td><td>STATE</td><td>200字节</td><td>命令词配置字符串(字符串以&#x27;\n&#x27;结尾)，由聆思提供，如字符串长度不满200字节，则后续补0x00;</td></tr><tr><td>TXT</td><td>36字节</td><td>命令词文本（中文），如“小优小优”；注意：编码格式为UTF-8，不足36字节，则后续补0x00;</td></tr><tr><td>kid</td><td>2字节</td><td>用户自定义id，注意不要与命令词列表id重合；</td></tr><tr><td>PLAY[2]</td><td>4字节</td><td>播音ID, 即CSK的音频资源索引ID, 从1开始，0表示不播放；每个VID为2个字节</td></tr><tr><td>PLAY_CNT</td><td>1字节</td><td>即PLAY[2]中的播音个数，范围为[0,2]</td></tr><tr><td>CMD[20]</td><td>20字节</td><td>识别到命令词后外发的命令</td></tr><tr><td>CMD_CNT</td><td>1字节</td><td>即CMD[20]的个数，范围为[0,20]</td></tr><tr><td>INFRARED[20]</td><td>20字节</td><td>识别到命令词后外发的红外码</td></tr><tr><td>INFRARED_CNT</td><td>1字节</td><td>即INFRARED[20]的个数，范围为[0,20]</td></tr></table><blockquote><p><strong>注意：在public模式下，上述PLAY、PLAY_CNT、CMD、CMD_CNT、INFRARED、INFRARED_CNT字段实际无法使用，建议全部设置为0</strong></p></blockquote><p>如果keyword_operation为删除时，data字节数为36，data的格式如下：</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>data</td><td>KEYWORD</td><td>36字节</td><td>命令词文本（英文），如“xiao3 you1 xiao3 you1”；注意：编码格式为UTF-8，不足36字节，则后续补0x00;</td></tr></table><p>如果keyword_operation为恢复出厂时，data字节数为0</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>使用示例</h5></div><div class="admonition-content"><p>命令帧：增加唤醒词：小优小优</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 29 01 00 38 F0 00 40 00 00 2d 31 20 32 38 36 30 20 31 34 32 37 20 2d 31 20 38 34 20 31 36 38 34 20 2d 31 20 32 38 37 34 20 31 34 32 37 20 2d 31 20 38 34 20 31 36 38 35 20 2c 31 35 33 39 2c 30 20 2d 31 30 30 30 30 2c 31 30 30 30 30 2c 78 69 61 6f 33 20 79 6f 75 31 20 78 69 61 6f 33 20 79 6f 75 31 0a 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 e5 b0 8f e4 bc 98 e5 b0 8f e4 bc 98 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 f6 01 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 38</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>命令帧：增加命令词：五十二度</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 29 01 00 38 F0 00 40 01 00 2d 31 20 31 31 38 20 32 34 32 38 20 2d 31 20 32 33 31 33 20 31 35 35 30 20 2d 31 20 31 37 20 39 35 32 20 2d 31 20 36 34 38 20 32 34 36 33 20 2c 31 34 31 39 2c 30 20 2d 31 30 30 30 30 20 2c 31 30 30 30 30 2c 77 75 33 20 73 68 69 32 20 65 72 34 20 64 75 34 0a 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 e4 ba 94 e5 8d 81 e4 ba 8c e5 ba a6 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 90 01 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 24</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>命令帧：替换命令词：五十二度</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 29 01 00 38 F0 00 40 01 01 2d 31 20 31 31 38 20 32 34 32 38 20 2d 31 20 32 33 31 33 20 31 35 35 30 20 2d 31 20 31 37 20 39 35 32 20 2d 31 20 36 34 38 20 32 34 36 33 20 2c 31 34 31 39 2c 30 20 2d 31 30 30 30 30 20 2c 31 30 30 30 30 2c 77 75 33 20 73 68 69 32 20 65 72 34 20 64 75 34 0a 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 e4 ba 94 e5 8d 81 e4 ba 8c e5 ba a6 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 90 01 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 23</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>命令帧：删除命令词：五十二度</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 30 00 00 32 F0 00 40 01 02 77 75 33 20 73 68 69 32 20 65 72 34 20 64 75 34 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 C0</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>命令帧：删除命令词：十六度</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 30 00 00 32 F0 00 40 01 02 73 68 69 32 20 6c 69 75 34 20 64 75 34 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 8C</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>命令帧：恢复到出厂命令词</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0C 00 00 56 F0 00 40 00 03 CD</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><blockquote><p>查看<a href="#0x40%E8%87%AA%E5%AE%9A%E4%B9%89%E5%91%BD%E4%BB%A4%E8%AF%8D%E7%BB%93%E6%9E%9C%E5%8F%8D%E9%A6%88">响应帧：0x40 自定义命令词结果反馈</a></p></blockquote></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0xff心跳"></a>0xFF心跳<a class="hash-link" href="#0xff心跳" title="Direct link to heading">#</a></h3><p>CSK接收的心跳指令后，返回一个心跳“响应帧”，表示工作正常。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0xFF</td><td>1字节</td><td></td></tr><tr><td>命令数据</td><td>DEF</td><td>1字节</td><td>保留字段，固定为 0x00</td></tr></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>使用示例</h5></div><div class="admonition-content"><p>命令帧：心跳包</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 00 57 F0 00 FF 00 11</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>响应帧：命令帧正确反馈</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">58 46 0B 00 08 4F FF 00 01 10 F0</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><blockquote><p>查看<a href="#0x01%E5%91%BD%E4%BB%A4%E5%B8%A7%E5%8F%8D%E9%A6%88">响应帧：0x01 命令帧反馈</a></p></blockquote></div></div><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="32-csk响应帧"></a>3.2 CSK响应帧<a class="hash-link" href="#32-csk响应帧" title="Direct link to heading">#</a></h3><p>CSK通过响应帧，向外围模块发送CSK的相关信息；帧数据标记为：0xFF 0x00。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x01命令帧反馈"></a>0x01命令帧反馈<a class="hash-link" href="#0x01命令帧反馈" title="Direct link to heading">#</a></h3><p>系统正常启动、接收到命令帧后，CSK会发送本响应；</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x01</td><td>1字节</td><td></td></tr><tr><td>命令数据</td><td>STATE</td><td>1字节</td><td>【0x00】系统初始化成功（系统正常启动后，会主动发送该响应）<br>【0x10】收到正确的命令<br>【0x11】数据帧格式错误<br>【0x12】数据帧参数错误</td></tr></table><blockquote><p>查看<a href="#0x01%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE">命令帧：0x01 系统设置</a></p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x02固件版本已弃用"></a>0x02固件版本（已弃用）<a class="hash-link" href="#0x02固件版本已弃用" title="Direct link to heading">#</a></h3><p>已弃用。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x03运行状态反馈"></a>0x03运行状态反馈<a class="hash-link" href="#0x03运行状态反馈" title="Direct link to heading">#</a></h3><p>系统运行状态命令帧的反馈。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x03</td><td>1字节</td><td></td></tr><tr><td>命令数据</td><td>STATE</td><td>1字节</td><td>【0x00】空闲和就绪状态 <br>【0x10】语音识别状态 <br>【0x11】语音播放状态 <br>【0x12】语音合成状态 <br>【0x13】系统休眠（低功耗）状态</td></tr></table><blockquote><p>查看<a href="#0x01%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE">命令帧：0x01 系统设置</a></p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x04版本查询的反馈"></a>0x04版本查询的反馈<a class="hash-link" href="#0x04版本查询的反馈" title="Direct link to heading">#</a></h3><p>针对版本查询命令帧（0x19）的响应，如果查询的是所有模块的版本，那么会分多次反馈各个模块的版本。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x04</td><td>1字节</td><td></td></tr><tr><td>命令数据</td><td>TYPE</td><td>1字节</td><td>【0x01】固件版本号；<br> 【0x02】CAE的版本号；<br> 【0x03】miniESR的版本号；</td></tr><tr><td></td><td>VER_1</td><td>32字节</td><td>基础固件/算法版本号</td></tr><tr><td></td><td>VER_2</td><td>32字节</td><td>固件构建号/资源版本号（暂时全部为0x00）</td></tr></table><blockquote><p>查看<a href="#0x19%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E7%89%88%E6%9C%AC%E5%8F%B7">响应帧：0x19查询所有版本号</a></p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x10识别结果反馈"></a>0x10识别结果反馈<a class="hash-link" href="#0x10识别结果反馈" title="Direct link to heading">#</a></h3><p>语音识别系统处理结束，将识别结果回传上位机，根据系统设置命令的【OUT_FORMAT】 段设置，输出不同格式的结果。</p><p>OUT_FORMAT = 0时：</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x10</td><td>1字节</td><td></td></tr><tr><td rowspan="3">命令数据</td><td>ID</td><td>2字节</td><td>识别结果编号，取值范围：0~65535，该值代表对应的识别结果的编号，可通过该值获知是哪个命令被触发了。</td></tr><tr><td>SCORE</td><td>2字节</td><td>命令词分数</td></tr><tr><td>TEXT</td><td>N字节，不超过200</td><td>识别结果名称，最大不超过200个字节（100个字），该值表示识别结果对应的文本。注意：此文本编码固定为UTF-8格式。</td></tr></table><p>OUT_FORMAT = 1时：</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x10</td><td>1字节</td><td></td></tr><tr><td>命令数据</td><td>ID</td><td>2字节</td><td>识别结果编号，取值范围：0~65535，该值代表对应的识别结果的编号，可通过该值获知是哪个命令被触发了。</td></tr></table><p>OUT_FORMAT = 2 时：</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x10</td><td>1字节</td><td></td></tr><tr><td>命令数据</td><td>TEXT</td><td>N字节，不超过200</td><td>识别结果名称，最大不超过200个字节（100个字），该值表示识别结果对应的文本。注意：此文本编码固定为UTF-8格式。</td></tr></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x11识别异常反馈"></a>0x11识别异常反馈<a class="hash-link" href="#0x11识别异常反馈" title="Direct link to heading">#</a></h3><p>识别异常状态反馈，包括：超时、拒识、错误等信息。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x11</td><td>1字节</td><td></td></tr><tr><td>命令数据</td><td>ERROR</td><td>1字节</td><td>【0x01】识别超时：用户在一段时间内未说话，出现反应超时；用户说话的时间超过设定的时间，出现识别超时；<br> 【0x10】引擎错误：引擎内部出现错误，通常用户是接收不到此状态的，如果确实接收到了，请复位模块；</td></tr></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x20播音结束反馈"></a>0x20播音结束反馈<a class="hash-link" href="#0x20播音结束反馈" title="Direct link to heading">#</a></h3><p>播音结束后（注意，仅对播音指令有效，并且只有正常播放结束，才会有该状态信息反馈。识别或唤醒等前置提示音播放，或者播音强制结束的都不会有该状态反馈）。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x20</td><td>1字节</td><td></td></tr></table><blockquote><p>查看<a href="#0x12%E6%92%AD%E6%94%BE%E9%9F%B3%E9%A2%91">命令帧：0x12播放音频</a></p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="0x40自定义命令词结果反馈"></a>0x40自定义命令词结果反馈<a class="hash-link" href="#0x40自定义命令词结果反馈" title="Direct link to heading">#</a></h3><p>自定义命令词的结果反馈。</p><table><tr><td>名称</td><td>发送数据</td><td>字节数量</td><td>说明</td></tr><tr><td>命令类型</td><td>0x40</td><td>1字节</td><td></td></tr><tr><td>命令数据</td><td>ret</td><td>1字节</td><td>【0x00】操作正常：表示自定义命令词操作正常；<br> 【0x01】删除的命令词不存在：表示不存在此命令词；<br> 【0x02】增加同名命令词：此时不做任何处理，如果想修改同名命令词，请使用替换操作；<br> 【0x12】参数错误：命令参数错误，请检查keyword_type和keyword_operation；</td></tr></table><blockquote><p>查看<a href="#0x40%E8%87%AA%E5%AE%9A%E4%B9%89%E5%91%BD%E4%BB%A4%E8%AF%8D">命令帧：0x40自定义命令词</a></p></blockquote></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs-csk6/AIsolution/ESR/softwaredevelopment/Basic_development/peripheral_config"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 外围引脚配置</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs-csk6/AIsolution/ESR/softwaredevelopment/Basic_development/audio_transmission"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">音频传输 »</div></a></div></nav><div class="gitalk-wrapper"><ul class="gitalk-option"><li class="like"><i class="icon like-icon"></i> <span id="like_num">有帮助  0</span></li><li class="unlike"><i class="icon unlike-icon"></i> <span id="unlike_num">没帮助 0</span></li><li>文档反馈</li></ul></div></div></div><div class="col col--3" style="padding-left:0px"><div class="tableOfContents_k96L thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#变更记录" class="table-of-contents__link">变更记录</a></li><li><a href="#1-概述" class="table-of-contents__link">1 概述</a></li><li><a href="#2-传输协议" class="table-of-contents__link">2 传输协议</a><ul><li><a href="#21-帧头说明" class="table-of-contents__link">2.1 帧头说明</a></li><li><a href="#22-帧数据说明" class="table-of-contents__link">2.2 帧数据说明</a></li></ul></li><li><a href="#3-业务协议" class="table-of-contents__link">3 业务协议</a><ul><li><a href="#31-csk命令帧" class="table-of-contents__link">3.1 CSK命令帧</a></li><li><a href="#0x01系统设置" class="table-of-contents__link">0x01系统设置</a></li><li><a href="#0x02串口设置" class="table-of-contents__link">0x02串口设置</a></li><li><a href="#0x03版本查询已弃用" class="table-of-contents__link">0x03版本查询（已弃用）</a></li><li><a href="#0x04状态查询" class="table-of-contents__link">0x04状态查询</a></li><li><a href="#0x05系统休眠已弃用" class="table-of-contents__link">0x05系统休眠（已弃用）</a></li><li><a href="#0x10停止所有模块" class="table-of-contents__link">0x10停止所有模块</a></li><li><a href="#0x11启动识别模式" class="table-of-contents__link">0x11启动识别模式</a></li><li><a href="#0x12播放音频" class="table-of-contents__link">0x12播放音频</a></li><li><a href="#0x15设置i2s输出通道" class="table-of-contents__link">0x15设置I2S输出通道</a></li><li><a href="#0x16设置adc增益" class="table-of-contents__link">0x16设置ADC增益</a></li><li><a href="#0x17设置命令词识别的启停" class="table-of-contents__link">0x17设置命令词识别的启停</a></li><li><a href="#0x18设置uac通道" class="table-of-contents__link">0x18设置UAC通道</a></li><li><a href="#0x19查询所有版本号" class="table-of-contents__link">0x19查询所有版本号</a></li><li><a href="#0x40自定义命令词" class="table-of-contents__link">0x40自定义命令词</a></li><li><a href="#0xff心跳" class="table-of-contents__link">0xFF心跳</a></li><li><a href="#32-csk响应帧" class="table-of-contents__link">3.2 CSK响应帧</a></li><li><a href="#0x01命令帧反馈" class="table-of-contents__link">0x01命令帧反馈</a></li><li><a href="#0x02固件版本已弃用" class="table-of-contents__link">0x02固件版本（已弃用）</a></li><li><a href="#0x03运行状态反馈" class="table-of-contents__link">0x03运行状态反馈</a></li><li><a href="#0x04版本查询的反馈" class="table-of-contents__link">0x04版本查询的反馈</a></li><li><a href="#0x10识别结果反馈" class="table-of-contents__link">0x10识别结果反馈</a></li><li><a href="#0x11识别异常反馈" class="table-of-contents__link">0x11识别异常反馈</a></li><li><a href="#0x20播音结束反馈" class="table-of-contents__link">0x20播音结束反馈</a></li><li><a href="#0x40自定义命令词结果反馈" class="table-of-contents__link">0x40自定义命令词结果反馈</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 安徽聆思智能科技有限公司皖ICP备05001217号</div></div></div></footer></div>
<script src="/docs-csk6/assets/js/runtime~main.b310a82c.js"></script>
<script src="/docs-csk6/assets/js/main.bebb98a6.js"></script>
<script>!function(e,n,s,t,d){e[s]=e[s]||function(){(e[s].a=e[s].a||[]).push(arguments)},(d=n.createElement("script")).async=!0,d.src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js",n.body.appendChild(d)}(window,document,"simplemde")</script></body>
</html>