<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.2">
<title data-react-helmet="true">引脚控制 | 聆思文档中心</title><meta data-react-helmet="true" property="og:url" content="https://github.com/LISTENAI/docs-csk6/chips/600X/hardware/pinctrl"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="引脚控制 | 聆思文档中心"><meta data-react-helmet="true" name="description" content="这是引脚控制的高级指南。有关API参考资料，请参考 引脚控制API。"><meta data-react-helmet="true" property="og:description" content="这是引脚控制的高级指南。有关API参考资料，请参考 引脚控制API。"><link data-react-helmet="true" rel="shortcut icon" href="/docs-csk6/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://github.com/LISTENAI/docs-csk6/chips/600X/hardware/pinctrl"><link data-react-helmet="true" rel="alternate" href="https://github.com/LISTENAI/docs-csk6/chips/600X/hardware/pinctrl" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://github.com/LISTENAI/docs-csk6/chips/600X/hardware/pinctrl" hreflang="x-default"><link rel="stylesheet" href="/docs-csk6/assets/css/styles.f018d340.css">
<link rel="preload" href="/docs-csk6/assets/js/runtime~main.1212d4be.js" as="script">
<link rel="preload" href="/docs-csk6/assets/js/main.d7789342.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_vO2r">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" titleclassname="navbar__title" href="/docs-csk6/"><img src="/docs-csk6/img/logo_light.svg" alt="LSOpen Logo" class="themedImage_K3WP themedImage--light_Fy0T navbar__logo"><img src="/docs-csk6/img/logo_dark.svg" alt="LSOpen Logo" class="themedImage_K3WP themedImage--dark_V9oi navbar__logo"></a><a class="navbar__item navbar__link" href="/docs-csk6/chips/4002/Chip_information_4002">芯片</a><a class="navbar__item navbar__link" href="/docs-csk6/tools/LStudio">工具</a><a class="navbar__item navbar__link" href="/docs-csk6/AIsolution/ESR/Quick_start/Scheme_introduction">AI语音应用方案</a><a class="navbar__item navbar__link" href="/docs-csk6/Industrysolution/Scanning_pen/Scheme_introduction">行业Turnkey解决方案</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs-csk6/FAQ/faq">FAQ</a><a class="navbar__item navbar__link" href="/docs-csk6/school/school">视频课程</a><a class="navbar__item navbar__link" href="/docs-csk6/workorder/workorder">工单</a><div class="react-toggle displayOnlyInLargeViewport_a-w0 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_8pH0"><img src="/docs-csk6/img/light.svg" alt="" class="themedImage_K3WP themedImage--light_Fy0T"><img src="/docs-csk6/img/unlight.svg" alt="" class="themedImage_K3WP themedImage--dark_V9oi"></span></div><div class="react-toggle-track-x"><span class="toggle_8pH0"><img src="/docs-csk6/img/undark.svg" alt="" class="themedImage_K3WP themedImage--light_Fy0T"><img src="/docs-csk6/img/dark.svg" alt="" class="themedImage_K3WP themedImage--dark_V9oi"></span></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_I7kZ"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_Zg7X searchBarLoadingRing_J5Ez"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" titleclassname="navbar__title" href="/docs-csk6/"><img src="/docs-csk6/img/logo_light.svg" alt="LSOpen Logo" class="themedImage_K3WP themedImage--light_Fy0T navbar__logo"><img src="/docs-csk6/img/logo_dark.svg" alt="LSOpen Logo" class="themedImage_K3WP themedImage--dark_V9oi navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs-csk6/chips/4002/Chip_information_4002">芯片</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-csk6/tools/LStudio">工具</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-csk6/AIsolution/ESR/Quick_start/Scheme_introduction">AI语音应用方案</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-csk6/Industrysolution/Scanning_pen/Scheme_introduction">行业Turnkey解决方案</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-csk6/FAQ/faq">FAQ</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-csk6/school/school">视频课程</a></li><li class="menu__list-item"><a class="menu__link" href="/docs-csk6/workorder/workorder">工单</a></li></ul></div></div></div></nav><nav class="navbar subnavbar--fixed-top sub-navbar"><div class="navbar__inner subnavbar__inner"><div class="navbar__items"><a class="subnavbar__item subnavbar__link" dirname="/chips" href="/docs-csk6/chips/4002/Chip_information_4002">CSK4002</a><a aria-current="page" class="subnavbar__item subnavbar__link subnavbar__link--active" dirname="/chips" href="/docs-csk6/chips/600X/overview/chips">CSK600X</a><a class="subnavbar__item subnavbar__link" dirname="/chips" href="/docs-csk6/chips/micropython/index">MicroPython</a></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_Ol8-"><aside class="docSidebarContainer_UfDv"><div class="sidebar_OMtR"><nav class="menu menu--responsive thin-scrollbar menu_2y2e menuWithAnnouncementBar_Lwkw" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_IcOF" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--first menu__link--sublist" type="first" href="#!">简介</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/overview/chips">芯片</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">开发套件</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/overview/nanokit/nanokit_introduction">NanoKit开发套件</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">CSK6 NanoKit开发板</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/overview/nanokit/nanokit_csk6002_9s_nano">csk6002-9s-nano</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/overview/nanokit/nanokit_csk6011a_9s_nano">csk6011a-9s-nano</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">NanoKit 功能扩展板</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/overview/nanokit/nanokit_audio">语音功能板 v1</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/overview/system">系统与软件</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--first menu__link--sublist" type="first" href="#!">开发</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/getting_start">快速开始</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/application_development">应用开发</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">烧录与调试</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/gdbdebug/overview">概述</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/gdbdebug/csk6_load">CSK6 烧录</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/gdbdebug/gdbdebug-daplink">基于 DAPLink 的 GDB 调试</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/gdbdebug/gdbdebug-jlink">基于 J-Link 的 GDB 调试</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">优化</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/optimizations_ways">优化方式</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">lisa zephyr 命令行工具</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/tool/lisa_plugin_zephyr/index">概述</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/tool/lisa_plugin_zephyr/install">安装/更新</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/tool/lisa_plugin_zephyr/basic">基础命令</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/tool/lisa_plugin_zephyr/command_detail">内置命令</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/tool/lisa_plugin_zephyr/config">配置</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/tool/lisa_plugin_zephyr/build_flash_debug">编译 烧录 调试</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/tool/lisa_plugin_zephyr/filesystem">文件系统相关</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/tool/lisa_plugin_zephyr/application_project">应用级提货单</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/tool/lisa_plugin_zephyr/trouble_shooting">疑难解答</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/tool/lisa_plugin_zephyr/release_note">lisa zep 更新日志</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">vscode开发插件推荐</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/tool/vscode_plugin/code_completion">代码补全</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/tool/vscode_plugin/debug">调试</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/modules">模块</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--first menu__link--sublist" type="first" href="#!">使用示例</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">外设驱动</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/peripheral/overview">外设驱动的使用</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/peripheral/samples/gpio">GPIO</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/peripheral/samples/pwm">PWM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/peripheral/samples/UART">UART</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/peripheral/samples/I2C">I2C</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/peripheral/samples/spi">SPI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/peripheral/samples/ADC">SAR ADC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/peripheral/samples/RTC">RTC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/peripheral/samples/watchdog">WatchDog</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">系统内核</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/kernel/overview">概述</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/kernel/timer">Timer定时器</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/kernel/multithread">多线程</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/kernel/sync_semaphore">信号量</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/kernel/sync_mutex">互斥量</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/kernel/sync_poll">轮询</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/kernel/thread_analyzer">线程分析器的使用</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/kernel/workqueue">工作队列的使用</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">系统服务</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/modules/overview">概述</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/modules/logger">日志输出</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/modules/usb_class">USB 模块</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/modules/display_kscan">显示&amp;触摸</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/modules/lvgl">LVGL 显示组件</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/shell_sample">Shell 的使用</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/modules/nvs">NVS 的使用</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/modules/filesystem">文件系统的使用</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">音频</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/audio/overview">概述</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/audio/audio_record">录音</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/audio/audio_playback">播音</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/audio/audio_record_play">录音和播音示例</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">网络</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/network/overview">概述</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/network/wifi_connect">WIFI连接</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/network/net_socket">网络连接</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">自定义驱动</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/customdriver/custom-driver-video">添加自定义驱动</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">自定义板型</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/application/board">添加自定义板型</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--first menu__link--sublist" type="first" href="#!">内核</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/kernel/index">概述</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/kernel/threads">线程</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/kernel/scheduling">调度</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/kernel/system_threads">系统线程</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/kernel/workqueue">工作队列线程</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/kernel/interrupts">中断</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/kernel/semaphores">信号量</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/kernel/mutexes">互斥量</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/kernel/timing/timers">定时器</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/kernel/heap">堆管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/kernel/datapassing/message_queues">消息队列</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/kernel/fifos">FIFOs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/kernel/data_passing/pipes">管道</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--first menu__link--sublist" type="first" href="#!">系统服务</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/service/index">概述</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/service/logging">日志</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/service/portability/posix">POSIX 支持</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/service/shell">Shell</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">存储</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/service/storage/nvs">非易失性存储 (NVS)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/service/storage/flash_map">Flash map</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--first menu__link--sublist" type="first" href="#!">构建与配置系统</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/cmake/index">构建系统（ CMake ）</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">设备树</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/dts/intro">设备树概述</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/dts/design">设计目标</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/dts/bindings">设备树绑定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/dts/howtos">设备树操作指引</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/dts/api_usage">在 C/C++ 中访问设备树</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/dts/troubleshooting">问题排查</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/dts/dt_vs_kconfig">设备树 VS Kconfig</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">API 引用</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/dts/api/index">概述</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/dts/api/api">设备树 API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/dts/api/bindings">绑定索引</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" type="" href="#!" tabindex="-1">Kconfig配置系统</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/kconfig/index">概述</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/kconfig/Kconfig_gui">Kconfig交互界面</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/kconfig/Kconfig_configuration">设置Kconfig配置</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/kconfig/Kconfig_tips_and_demo">小贴士与最佳实践</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/kconfig/Kconfig_custom">自定义 Kconfig 预处理函数</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/kconfig/Kconfig_extension">Kconfig 拓展</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/build/zephyr_cmake_package">Zephyr CMake Package(包)</a></li></ul></li><li class="menu__list-item menu__list-item--current"><a class="menu__link menu__link--first menu__link--sublist menu__link--active" type="first" href="#!">硬件支持</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs-csk6/chips/600X/hardware/pinctrl">引脚控制</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--first menu__link--sublist" type="first" href="#!">疑难解答</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/FAQ/index">FAQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs-csk6/chips/600X/quick_start/doc_issue">反馈</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--first menu__link--sublist" type="first" href="#!">引用</a><ul class="menu__list"><li class="menu__list-item"><a href="https://zephyr-docs.listenai.com/doxygen/html/index.html" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="0"><span>Zephyr API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_qQrU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://zephyr-docs.listenai.com/kconfig.html" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="0"><span>Kconfig 检索<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_qQrU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://zephyr-docs.listenai.com/reference/devicetree/bindings.html" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="0"><span>设备树绑定索引<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_qQrU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_dRYS"><div class="container padding-top--md padding-bottom--lg center-container"><div class="row"><div class="col docItemCol_+xOG"><div class="docItemContainer_c+5G"><article><div class="markdown"><header><h1 class="h1Heading_5RMM">引脚控制</h1></header><p>这是引脚控制的高级指南。有关API参考资料，请参考 <a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#pinctrl-api" target="_blank" rel="noopener noreferrer">引脚控制API</a>。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="介绍"></a>介绍<a class="hash-link" href="#介绍" title="Direct link to heading">#</a></h2><p>控制引脚复用和引脚配置参数(如引脚方向、上拉/下拉电阻等)的硬件模块称为<strong>引脚控制器</strong>。引脚控制器的主要使用者是 SoC 硬件外围设备，由于控制器能够暴露外围信号，如将 <code>I2C0</code> <code>SDA</code> 信号映射到引脚 <code>PX0</code>。不仅如此，它通常还允许配置外围设备正常运行所需的某些引脚设置，例如，根据工作频率的转速。可用的配置选项是供应商/SoC提供的，范围从简单的上拉/下拉选项到更高级的设置，例如，消抖、低功耗模式等。</p><p>引脚控制在硬件上的实现方式是特定于供应商/SoC的。通常可以找到一种集中式方法，即所有引脚配置参数都由单个硬件模块（通常称为pinmux）控制，包括信号映射。<a href="#picture35">图35</a>说明了这种方式。根据<code>AF</code>控制位, <code>PX0</code>可以映射到<code>UART0_TX</code>,<code>I2C0_SCK</code>或<code>SPI0_MOSI</code>。其他配置参数（如上拉/下拉）通过<code>CONFIG</code>位在同一块种控制。该模型被多个SoC系列使用，例如NXP 和 STM32等多个系列。
<img alt="图35" src="/docs-csk6/assets/images/hw-cent-control-25b7ddb24a650826a083f1a2e6fbb6d8.svg"></p><center><span id="picture35">图35</span>引脚控制集中到单个引脚块的示例</center><p>其他供应商/SoC使用分布式方法。在这种情况下，引脚映射和配置由多个硬件模块控制。<a href="#picture36">图36</a>说明了一种分布式方法，其中引脚映射由外围设备控制，例如在 Nordic nRF SoC中。
<img alt="图36" src="/docs-csk6/assets/images/hw-dist-control-ea9b031200c881924fe3828edd25aff8.svg"></p><center><span id="picture36">图36</span>分布在外围寄存器和每个引脚块之间的引脚控制实例</center><p>从用户角度来看，无论硬件如何实现，引脚控制起的使用都是一样的：用户总是应用一个状态。唯一的区别在于驱动程序的实现。一般来说，为使用分布式方法的硬件实现引脚控制起驱动程序需要更多时间，因为驱动程序需要收集与外围设备相关的寄存器知识。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="引脚控制与gpio"></a>引脚控制与GPIO<a class="hash-link" href="#引脚控制与gpio" title="Direct link to heading">#</a></h3><p>引脚控制起驱动程序覆盖的一些功能与GPIO驱动程序重叠。例如，上拉/下拉电阻通常可以通过引脚控制驱动程序和 GPIO 驱动程序启用。在csk6上下文中，引脚控制驱动程序的目的是执行外设信号复用和配置该外设正确操作所需的其他引脚参数。因此，引脚控制驱动程序的主要使用者是 SoC 外围设备。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="状态模型"></a>状态模型<a class="hash-link" href="#状态模型" title="Direct link to heading">#</a></h2><p>为了使设备驱动程序正确运行，需要应用特定的引脚配置。一些设备驱动程序需要静态配置，通常在初始化时设置。其他人则需要根据运行条件在运行时更改配置，例如，在挂起设备时启用低功耗模式。这些需求时使用<strong>状态</strong>建模的，这是一个从Linux内核中改编而来的概念。每个设备驱动程序都拥有一组状态。每个状态都有一个唯一的名称并包含一个完整的引脚配置集（<a href="#table38">参考表38</a>）。这意味着状态是相互独立的，因此它们不需要以任何特定的顺序使用。状态模型的另外一个优点是它将设备驱动程序与引脚配置隔离开来。</p><table><tr><th colspan="4">UART0 外围设备</th></tr><tr><th colspan="2">默认状态</th><th colspan="2">睡眠状态</th></tr><tr><th>TX</th><th>* Pin:PA0 * Pull:没有 * 低功耗：否</th><th>TX</th><th>* Pin:PA0 * Pull:没有 * 低功耗：是</th></tr><tr><th>RX</th><th>* Pin:PA1 * Pull:上拉 * 低功耗：否</th><th>RX</th><th>* Pin:PA1 * Pull:没有 * 低功耗：是</th></tr></table><center><span id="table38">表38</span>使用状态模型编码的管脚配置示例</center><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="标准状态"></a>标准状态<a class="hash-link" href="#标准状态" title="Direct link to heading">#</a></h3><p>分配给引脚控制状态的名称或它们的数量取决于设备驱动程序的要求。在许多情况下，在初始化时应用单个状态就足够了，但在其他情况下需要更多状态。为了保持一致性，我们为最常见的用例建立了一个变数命名规则。<a href="#table39">表39</a>详细说明了标准化状态及用途。</p><table><thead><tr><th>状态</th><th>识别符</th><th>用途</th></tr></thead><tbody><tr><td><code>default</code></td><td><a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.PINCTRL_STATE_DEFAULT" target="_blank" rel="noopener noreferrer">PINCTRL_STATE_DEFAULT</a></td><td>当设备处于工作状态时引脚的状态</td></tr><tr><td><code>sleep</code></td><td><a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.PINCTRL_STATE_SLEEP" target="_blank" rel="noopener noreferrer">PINCTRL_STATE_SLEEP</a></td><td>当设备处于低功耗或睡眠模式时引脚的状态</td></tr></tbody></table><center><span id="table39">表39</span>使用状态模型编码的管脚配置示例</center><p>请注意，将来可能会引入其他标准状态。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="自定义状态"></a>自定义状态<a class="hash-link" href="#自定义状态" title="Direct link to heading">#</a></h3><p>有些设备驱动程序可能需要使用超出标准状态的自定义状态。为了实现这一点，设备驱动程序需要在它范围内定义名为<code>PINCTRL_STATE_{STATE_NAME}</code>自定义状态标识符。其中 <code>{STATE_NAME}</code> 是大写的状态名称。例如，如果必须支持 <code>mystate</code>，则需要在驱动程序的作用域中包含名为 <code>PINCTRL_STATE_MYSTATE</code> 的定义。</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>注意</h5></div><div class="admonition-content"><p>自定义状态表示必须从<a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.PINCTRL_STATE_PRIV_START" target="_blank" rel="noopener noreferrer">PINCTRL_STATE_PRIV_START</a> 开始</p></div></div><p>如果需要从驱动程序外部访问自定义状态，例如执行动态引脚控制，则应将自定义标识符放在可公开访问的标头中。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="跳过状态"></a>跳过状态<a class="hash-link" href="#跳过状态" title="Direct link to heading">#</a></h3><p>在大多数情况下，在设备树定义的状态将是编译固件中使用的状态。但是，在某些情况下，一些状态根据编译标志有条件地使用。一个典型的例子是 <code>睡眠</code> 状态,只有在<code>CONFIG_PM_DEVICE</code>启用的情况下，才会在实际中使用这种状态。如果需要一个没有设备电源管理的固件，理论上应该从设备树移除 <code>睡眠</code> 状态，以免浪费存储这种未使用状态的ROM空间。</p><p>如果在定义引脚控制配置时存在扩展名为<code>PINCTRL_SKIP_{STATE_NAME}</code>的定义，则 <code>pinctrl</code> 设备树宏可以跳过状态。对于睡眠状态，<code>pinctrl</code> API已经根据电源管理的可用性提供了这样的定义：</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">#ifndef CONFIG_PM_DEVICE</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">/** If device power management is not enabled, &quot;sleep&quot; state will be ignored. */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">#define PINCTRL_SKIP_SLEEP 1</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">#endif</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="动态引脚控制"></a>动态引脚控制<a class="hash-link" href="#动态引脚控制" title="Direct link to heading">#</a></h2><p>动态引脚控制是指在运行时改变引脚配置的能力。这个特性在同一固件需要运行不同的电路板上的情况下非常游泳，每个电路板都有一个外围设备路由到不同引脚集的。可以通过设置 <code>CONFIG_PINCTRL_DYNAMIC</code> 来启用此特性。 </p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>注意</h5></div><div class="admonition-content"><p>动态引脚控制应该只用于尚未初始化的设备。在设备运行时更改引脚配置可能会导致其他意外情况。由于CSK6还不支持设备反初始化，因此这个功能智能在早期启动阶段使用。</p></div></div><p>启用动态引脚控制的效果之一是 <a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.pinctrl_dev_config" target="_blank" rel="noopener noreferrer">pinctrl_dev_config</a> 将它存储在RAM而不是ROM中（但不是状态或引脚配置）。然后用户可以使用<a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.pinctrl_update_states" target="_blank" rel="noopener noreferrer">pinctrl_update_states()</a>来更新存储在<a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.pinctrl_dev_config" target="_blank" rel="noopener noreferrer">pinctrl_dev_config</a>的状态。实际上意味着设备驱动程序在应用状态时将应用存储在更新状态中的引脚配置。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="设备树表示"></a>设备树表示<a class="hash-link" href="#设备树表示" title="Direct link to heading">#</a></h2><p>由于Devicetree旨在描述硬件，因此在存储引脚控制配置时，它是自然选择。在以下各节中，你将了解状态和引脚配置在Devicetree中是如何表示的。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="状态"></a>状态<a class="hash-link" href="#状态" title="Direct link to heading">#</a></h3><p>给定的一个设备，它的每个引脚控制状态在设备树中用<code>pinctrl-N</code>属性表示，表示从零开始的状态指数。然后使用<code>pinctrl-names</code>属性按索引为每个状态属性分配一个唯一标识符，例如，<code>pinctrl-names</code> 列表条目0是<code>pinctrl-0</code>的名称。</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">periph0: periph@0 {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ...</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /* state 0 (&quot;default&quot;) */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    pinctrl-0 = &lt;...&gt;;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ...</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /* state N (&quot;mystate&quot;) */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    pinctrl-N = &lt;...&gt;;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /* names for state 0 up to state N */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    pinctrl-names = &quot;default&quot;, ..., &quot;mystate&quot;;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ...</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">};</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="引脚配置"></a>引脚配置<a class="hash-link" href="#引脚配置" title="Direct link to heading">#</a></h3><p>在设备树有很多方法来表示引脚配置。然而，最后都编码成相同的信息：引脚复用和引脚配置参数。例如，将 <code>UART_RX</code> 映射到 <code>PX0</code> 并启用上拉。表示选择很大程度上取决每个供应商/SoC，因此引脚控制驱动程序的设备树绑定文件是查找详细信息的最佳途径。</p><p>下面示例显示了一个常用的多功能选项。这种选择的优点之一是基于共享引脚配置的分组能力。这样可以减少管脚控制定义的详细程度。另一个优点是，特定状态的管脚配置参数包含在单个设备树节点中。</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">/* board.dts */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">#include &quot;board-pinctrl.dtsi&quot;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&amp;periph0 {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    pinctrl-0 = &lt;&amp;periph0_default&gt;;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    pinctrl-names = &quot;default&quot;;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">};</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">/* vnd-soc-pkgxx.h</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> * File with valid mappings for a specific package (may be autogenerated).</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> * This file is optional, but recommended.</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">...</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">#define PERIPH0_SIGA_PX0 VNDSOC_PIN(X, 0, MUX0)</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">#define PERIPH0_SIGB_PY7 VNDSOC_PIN(Y, 7, MUX4)</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">#define PERIPH0_SIGC_PZ1 VNDSOC_PIN(Z, 1, MUX2)</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">...</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">/* board-pinctrl.dtsi */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">#include &lt;vnd-soc-pkgxx.h&gt;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&amp;pinctrl {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /* Node with pin configuration for default state */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    periph0_default: periph0_default {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        group1 {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            /* Mappings: PERIPH0_SIGA -&gt; PX0, PERIPH0_SIGC -&gt; PZ1 */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            pinmux = &lt;PERIPH0_SIGA_PX0&gt;, &lt;PERIPH0_SIGC_PZ1&gt;;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            /* Pins PX0 and PZ1 have pull-up enabled */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            bias-pull-up;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        };</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        ...</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        groupN {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            /* Mappings: PERIPH0_SIGB -&gt; PY7 */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            pinmux = &lt;PERIPH0_SIGB_PY7&gt;;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        };</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    };</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">};</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>另一个常用的模型是基于每个引脚配置和状态都有一个节点。虽然这个模型可能导致电路板引脚控制文件更短，但它也需要为每个引脚和状态提供一个节点，因为一般来说，节点不能重复用于多个状态。如果不能选择自动生成，则不建议使用此方法。</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>注意</h5></div><div class="admonition-content"><p>因为所有设备树信息都被解析为 C 头，所以确保它的大小保持在最小非常重要。出于这个原因，在预先生成的节点添加<code>/omit-if-no-ref/</code>前缀很重要。此前缀确保节点在不使用时被丢弃。</p></div></div><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">/* board.dts */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">#include &quot;board-pinctrl.dtsi&quot;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&amp;periph0 {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    pinctrl-0 = &lt;&amp;periph0_siga_px0_default &amp;periph0_sigb_py7_default</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                 &amp;periph0_sigc_pz1_default&gt;;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    pinctrl-names = &quot;default&quot;;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">};</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">/* vnd-soc-pkgxx.dtsi</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> * File with valid nodes for a specific package (may be autogenerated).</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> * This file is optional, but recommended.</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&amp;pinctrl {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /* Mapping for PERIPH0_SIGA -&gt; PX0, to be used for default state */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /omit-if-no-ref/ periph0_siga_px0_default: periph0_siga_px0_default {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        pinmux = &lt;VNDSOC_PIN(X, 0, MUX0)&gt;;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    };</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /* Mapping for PERIPH0_SIGB -&gt; PY7, to be used for default state */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /omit-if-no-ref/ periph0_sigb_py7_default: periph0_sigb_py7_default {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        pinmux = &lt;VNDSOC_PIN(Y, 7, MUX4)&gt;;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    };</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /* Mapping for PERIPH0_SIGC -&gt; PZ1, to be used for default state */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /omit-if-no-ref/ periph0_sigc_pz1_default: periph0_sigc_pz1_default {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        pinmux = &lt;VNDSOC_PIN(Z, 1, MUX2)&gt;;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    };</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">};</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">/* board-pinctrl.dts */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">#include &lt;vnd-soc-pkgxx.dtsi&gt;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">/* Enable pull-up for PX0 (default state) */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&amp;periph0_siga_px0_default {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    bias-pull-up;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">};</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">/* Enable pull-up for PZ1 (default state) */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&amp;periph0_sigc_pz1_default {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    bias-pull-up;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">};</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>注意</h5></div><div class="admonition-content"><p>不建议在预定义的节点中添加引脚配置默认值。一般来说，引脚配置取决于板子设计或外围工作条件，所以应该由电路板来决定。例如，默认情况下启用上拉电阻可能并不是最理想的，因为电路板已经有一个上拉或它的值取决于操作总线的速度。默认值的另外一个缺点是用户可能知道它们是什么，例如：</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">/* not evident that &quot;periph0_siga_px0_default&quot; also implies &quot;bias-pull-up&quot; */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">/omit-if-no-ref/ periph0_siga_px0_default: periph0_siga_px0_default {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    pinmux = &lt;VNDSOC_PIN(X, 0, MUX0)&gt;;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    bias-pull-up;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">};</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="实现指南"></a>实现指南<a class="hash-link" href="#实现指南" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="引脚控制驱动器"></a>引脚控制驱动器<a class="hash-link" href="#引脚控制驱动器" title="Direct link to heading">#</a></h3><p>引脚控制驱动程序需要实现一个函数: <a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.pinctrl_configure_pins" target="_blank" rel="noopener noreferrer">pinctrl_configure_pins()</a>。此函数接收需要应用的引脚配置数组。此外，如果设置了<a href="https://docs.zephyrproject.org/latest/kconfig.html#CONFIG_PINCTRL_STORE_REG" target="_blank" rel="noopener noreferrer">CONFIG_PINCTRL_STORE_REG</a>,它还接收给定引脚的关联设备寄存器地址。某些驱动程序可能需要此信息来执行特定设备的操作。</p><p>引脚配置存储在与供应商/SoC的不透明类型中： <code>pinctrl_soc_pin_t</code> 。这种类型需要在csk6的包含路径名为<code>pinctrl_soc.h</code>的头文件中定义。它的范围可以从简单的整数到具体有多个字段的结构。<code>pinctrl_soc.h</code>还需要定义一个名为<code>Z_PINCTRL_STATE_PINS_INIT</code>的宏，它接收两个参数：一个节点标识符和一个属性名(<code>pinctrl-N</code>)。有了这些信息，宏需要为<code>pinctrl-N</code>给定的节点属性中包含所有引脚配置定义一个初始化器。</p><p>关于设备树引脚配置表示，供应商可以决定哪个选项更适合他们的设备。但是应该遵循以下准则：</p><ul><li>使用 <code>pinctrl-N</code> (N=0, 1, …)和 <code>pinctrl-names</code> 属性来定义引脚控制状态，这些属性在<code>dts/bindings/pinctrl/pinctrl-device.yaml</code>中定义。
</li><li>使用<code>dts/bindings/pinctrl/pincfg-node.yaml</code>或<code>dts/bindings/pinctrl/pincfg-node-group.yaml</code>中定义的标准引脚配置属性。</li></ul><p>如果同一供应商已经在其他操作系统（如linux）中使用了不符合这些准则的表示，则可以接受。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="设备驱动程序"></a>设备驱动程序<a class="hash-link" href="#设备驱动程序" title="Direct link to heading">#</a></h3><p>在本节中，你将找到有关设备驱动程序应如何使用 <code>pinctrl</code> API成功配置所需引脚的提示。</p><p>需要在相应的绑定中修改设备兼容性，以便包含<code>pinctrl-device.yaml</code>:</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">include: [base.yaml, pinctrl-device.yaml]</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><p>需要使用此文件向设备添加 <code>pinctrl-N</code> 和 <code>pinctrl-names</code> 属性。</p><p>从设备驱动程序的角度来看，需要执行两个步骤才能使用 <code>pinctrl</code> API。首先，需要定义引脚控制配置。这包括所有的状态和引脚。为此，应该使用 <a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.PINCTRL_DT_DEFINE" target="_blank" rel="noopener noreferrer">PINCTRL_DT_DEFINE</a> 或 <a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.PINCTRL_DT_INST_DEFINE" target="_blank" rel="noopener noreferrer">PINCTRL_DT_INST_DEFINE</a> 宏。其次，需要存储对设备实例<a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.pinctrl_dev_config" target="_blank" rel="noopener noreferrer">pinctrl_dev_config</a>的引用, 因为稍后需要使用API。这可以使用<a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.PINCTRL_DT_DEV_CONFIG_GET" target="_blank" rel="noopener noreferrer">PINCTRL_DT_DEV_CONFIG_GET</a>和<a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.PINCTRL_DT_INST_DEV_CONFIG_GET" target="_blank" rel="noopener noreferrer">PINCTRL_DT_INST_DEV_CONFIG_GET</a>宏来实现。</p><p>值得注意的是，设备与相关引脚控制配置之间的唯一关系是基于变量命名的约定。<a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.pinctrl_dev_config" target="_blank" rel="noopener noreferrer">pinctrl_dev_config</a>实例根据相应的设备实例命名的方式允许以后根据设备的设备树节点标识符获取对它的引用。这可以最大限度减少ROM的使用，因为只有需要引脚控制的设备才会拥有引脚控制配置的引用。</p><p>一旦驱动程序定义了引脚控制配置并保留了对它的引用，他就可以使用API了。应用状态的最常见方法是使用<a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.pinctrl_apply_state" target="_blank" rel="noopener noreferrer">pinctrl_apply_state()</a>。还可以使用级别较低的<a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.pinctrl_apply_state_direct" target="_blank" rel="noopener noreferrer">pinctrl_apply_state_direct()</a>函数来跳过状态查找（如初始化时）。
由于状态查找时间预计会很快，因此建议使用 <a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#c.pinctrl_apply_state" target="_blank" rel="noopener noreferrer">pinctrl_apply_state()</a>。</p><p>下面的示例包含使用 <code>pinctrl</code> API的设备驱动程序的完整示例。</p><div class="codeBlockContainer_9aag"><div class="codeBlockContent_0VPv"><pre tabindex="0" class="prism-code language-undefined codeBlock_pSDi thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><div class="codeBlockLines_sq2l"><span class="token-line" style="color:#9CDCFE"><span class="token plain">/* A driver for the &quot;mydev&quot; compatible device */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">#define DT_DRV_COMPAT mydev</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">...</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">#include &lt;zephyr/drivers/pinctrl.h&gt;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">...</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">struct mydev_config {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ...</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /* Reference to mydev pinctrl configuration */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    const struct pinctrl_dev_config *pcfg;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ...</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">};</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">...</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">static int mydev_init(const struct device *dev)</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    const struct mydev_config *config = dev-&gt;config;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    int ret;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ...</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /* Select &quot;default&quot; state at initialization time */</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ret = pinctrl_apply_state(config-&gt;pcfg, PINCTRL_STATE_DEFAULT);</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    if (ret &lt; 0) {</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        return ret;</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    }</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ...</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">#define MYDEV_DEFINE(i)                                                    \</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    /* Define all pinctrl configuration for instance &quot;i&quot; */                \</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    PINCTRL_DT_INST_DEFINE(i);                                             \</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ...                                                                    \</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    static const struct mydev_config mydev_config_##i = {                  \</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        ...                                                                \</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        /* Keep a ref. to the pinctrl configuration for instance &quot;i&quot; */    \</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        .pcfg = PINCTRL_DT_INST_DEV_CONFIG_GET(i),                         \</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        ...                                                                \</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    };                                                                     \</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ...                                                                    \</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                                                                           \</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    DEVICE_DT_INST_DEFINE(i, mydev_init, NULL, &amp;mydev_data##i,             \</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                          &amp;mydev_config##i, ...);</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">DT_INST_FOREACH_STATUS_OKAY(MYDEV_DEFINE)</span></span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Q0gn clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_k6ZT" id="引脚控制api"></a>引脚控制API<a class="hash-link" href="#引脚控制api" title="Direct link to heading">#</a></h2><p>相关内容，请参考<a href="https://docs.zephyrproject.org/latest/hardware/pinctrl/index.html#pin-control-api" target="_blank" rel="noopener noreferrer">引脚控制API</a>。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs-csk6/chips/600X/build/zephyr_cmake_package"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Zephyr CMake Package(包)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs-csk6/chips/600X/FAQ/index"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">FAQ »</div></a></div></nav><div class="gitalk-wrapper"><ul class="gitalk-option"><li class="like"><i class="icon like-icon"></i> <span id="like_num">有帮助  0</span></li><li class="unlike"><i class="icon unlike-icon"></i> <span id="unlike_num">没帮助 0</span></li><li>文档反馈</li></ul></div></div></div><div class="col col--3" style="padding-left:0px"><div class="tableOfContents_k96L thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#介绍" class="table-of-contents__link">介绍</a><ul><li><a href="#引脚控制与gpio" class="table-of-contents__link">引脚控制与GPIO</a></li></ul></li><li><a href="#状态模型" class="table-of-contents__link">状态模型</a><ul><li><a href="#标准状态" class="table-of-contents__link">标准状态</a></li><li><a href="#自定义状态" class="table-of-contents__link">自定义状态</a></li><li><a href="#跳过状态" class="table-of-contents__link">跳过状态</a></li></ul></li><li><a href="#动态引脚控制" class="table-of-contents__link">动态引脚控制</a></li><li><a href="#设备树表示" class="table-of-contents__link">设备树表示</a><ul><li><a href="#状态" class="table-of-contents__link">状态</a></li><li><a href="#引脚配置" class="table-of-contents__link">引脚配置</a></li></ul></li><li><a href="#实现指南" class="table-of-contents__link">实现指南</a><ul><li><a href="#引脚控制驱动器" class="table-of-contents__link">引脚控制驱动器</a></li><li><a href="#设备驱动程序" class="table-of-contents__link">设备驱动程序</a></li></ul></li><li><a href="#引脚控制api" class="table-of-contents__link">引脚控制API</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 安徽聆思智能科技有限公司皖ICP备05001217号</div></div></div></footer></div>
<script src="/docs-csk6/assets/js/runtime~main.1212d4be.js"></script>
<script src="/docs-csk6/assets/js/main.d7789342.js"></script>
<script>!function(e,n,s,t,d){e[s]=e[s]||function(){(e[s].a=e[s].a||[]).push(arguments)},(d=n.createElement("script")).async=!0,d.src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js",n.body.appendChild(d)}(window,document,"simplemde")</script></body>
</html>