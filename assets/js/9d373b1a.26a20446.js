"use strict";(self.webpackChunkls_docs_web=self.webpackChunkls_docs_web||[]).push([[2412],{3905:(t,e,n)=>{n.d(e,{Zo:()=>k,kt:()=>s});var a=n(67294);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e){if(null==t)return{};var n,a,l=function(t,e){if(null==t)return{};var n,a,l={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(l[n]=t[n]);return l}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}var o=a.createContext({}),d=function(t){var e=a.useContext(o),n=e;return t&&(n="function"==typeof t?t(e):p(p({},e),t)),n},k=function(t){var e=d(t.components);return a.createElement(o.Provider,{value:e},t.children)},m={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},u=a.forwardRef((function(t,e){var n=t.components,l=t.mdxType,r=t.originalType,o=t.parentName,k=i(t,["components","mdxType","originalType","parentName"]),u=d(n),s=l,g=u["".concat(o,".").concat(s)]||u[s]||m[s]||r;return n?a.createElement(g,p(p({ref:e},k),{},{components:n})):a.createElement(g,p({ref:e},k))}));function s(t,e){var n=arguments,l=e&&e.mdxType;if("string"==typeof t||l){var r=n.length,p=new Array(r);p[0]=u;var i={};for(var o in e)hasOwnProperty.call(e,o)&&(i[o]=e[o]);i.originalType=t,i.mdxType="string"==typeof t?t:l,p[1]=i;for(var d=2;d<r;d++)p[d]=n[d];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},37835:(t,e,n)=>{n.r(e),n.d(e,{contentTitle:()=>p,default:()=>k,frontMatter:()=>r,metadata:()=>i,toc:()=>o});var a=n(87462),l=(n(67294),n(3905));const r={},p="GPIO",i={unversionedId:"chips/600X/application/peripheral/samples/gpio",id:"chips/600X/application/peripheral/samples/gpio",isDocsHomePage:!1,title:"GPIO",description:"\u6982\u8ff0",source:"@site/docs/chips/600X/application/peripheral/samples/gpio.md",sourceDirName:"chips/600X/application/peripheral/samples",slug:"/chips/600X/application/peripheral/samples/gpio",permalink:"/docs-csk6/chips/600X/application/peripheral/samples/gpio",version:"current",frontMatter:{},sidebar:"docs/chips/600X",previous:{title:"\u5916\u8bbe\u9a71\u52a8\u7684\u4f7f\u7528",permalink:"/docs-csk6/chips/600X/application/peripheral/overview"},next:{title:"PWM",permalink:"/docs-csk6/chips/600X/application/peripheral/samples/pwm"}},o=[{value:"\u6982\u8ff0",id:"\u6982\u8ff0",children:[]},{value:"GPIO\u903b\u8f91\u7535\u5e73\u548c\u7269\u7406\u7535\u5e73",id:"gpio\u903b\u8f91\u7535\u5e73\u548c\u7269\u7406\u7535\u5e73",children:[]},{value:"GPIO\u7684\u5e38\u89c1\u914d\u7f6e\u6807\u5fd7",id:"gpio\u7684\u5e38\u89c1\u914d\u7f6e\u6807\u5fd7",children:[{value:"GPIO\u7684\u8f93\u5165/\u8f93\u51fa\u6807\u5fd7",id:"gpio\u7684\u8f93\u5165\u8f93\u51fa\u6807\u5fd7",children:[]},{value:"GPIO\u7684\u4e2d\u65ad\u6807\u5fd7",id:"gpio\u7684\u4e2d\u65ad\u6807\u5fd7",children:[]},{value:"GPIO \u5f15\u811a\u4e0a\u4e0b\u62c9\u914d\u7f6e",id:"gpio-\u5f15\u811a\u4e0a\u4e0b\u62c9\u914d\u7f6e",children:[]}]},{value:"GPIO\u7684\u64cd\u4f5c\u63a5\u53e3",id:"gpio\u7684\u64cd\u4f5c\u63a5\u53e3",children:[{value:"GPIO\u914d\u7f6e",id:"gpio\u914d\u7f6e",children:[]},{value:"\u5199GPIO",id:"\u5199gpio",children:[]},{value:"\u8bfbGPIO",id:"\u8bfbgpio",children:[]}]},{value:"\u4f7f\u7528\u793a\u4f8b",id:"\u4f7f\u7528\u793a\u4f8b",children:[{value:"\u793a\u4f8b1\uff1aGPIO\u4f5c\u4e3a\u8f93\u51fa\u5f15\u811a",id:"\u793a\u4f8b1gpio\u4f5c\u4e3a\u8f93\u51fa\u5f15\u811a",children:[]},{value:"\u793a\u4f8b2\uff1aGPIO\u4f5c\u4e3a\u8f93\u5165\u5f15\u811a",id:"\u793a\u4f8b2gpio\u4f5c\u4e3a\u8f93\u5165\u5f15\u811a",children:[]}]}],d={toc:o};function k(t){let{components:e,...r}=t;return(0,l.kt)("wrapper",(0,a.Z)({},d,r,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"gpio"},"GPIO"),(0,l.kt)("h2",{id:"\u6982\u8ff0"},"\u6982\u8ff0"),(0,l.kt)("p",null,"GPIO\u7684\u4f7f\u7528\u662f\u6211\u4eec\u6700\u5e38\u7528\u7684\u5916\u8bbe\u64cd\u4f5c\u4e4b\u4e00\uff0c\u672c\u7ae0\u8282\u4e3b\u8981\u4ecb\u7ecdGPIO\u7684\u914d\u7f6e\u548c\u8bfb\u5199\u64cd\u4f5c\uff0c\u5e76\u901a\u8fc7\u4e24\u4e2a\u793a\u4f8b\u5c55\u793a\u5e94\u7528\u5f00\u53d1\u4e2dGPIO\u7684\u64cd\u4f5c\u3002"),(0,l.kt)("h2",{id:"gpio\u903b\u8f91\u7535\u5e73\u548c\u7269\u7406\u7535\u5e73"},"GPIO\u903b\u8f91\u7535\u5e73\u548c\u7269\u7406\u7535\u5e73"),(0,l.kt)("p",null,"\u5728\u5f00\u59cb\u4e0a\u624bGPIO\u7684\u64cd\u4f5c\u524d\u6211\u4eec\u5148\u6765\u5b66\u4e60\u4e00\u4e0bZephyr\u4e2d\u5bf9\u4e8eGPIO\u7269\u7406\u7535\u5e73\u548c\u903b\u8f91\u7535\u5e73\u7684\u914d\u7f6e\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7269\u7406\u7535\u5e73(physical leve)"),"\uff1a\u4e00\u822c\u60c5\u51b5\u4e0b\u6211\u4eec\u5c060\u5f53\u505agpio\u7684\u4f4e\u7535\u5e73\uff0c1\u5f53\u505agpio\u7684\u9ad8\u7535\u5e73\uff0c\u8fd9\u662f\u7269\u7406\u7535\u5e73\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u903b\u8f91\u7535\u5e73(logic level)"),"\uff1a\u5728\u8f6f\u4ef6\u4e0a\u4e3a\u63d0\u9ad8\u4e1a\u52a1\u4ee3\u7801\u7684\u53ef\u79fb\u690d\u6027\u6216\u6613\u8bfb\u6027\uff0c\u6211\u4eec\u4f1a\u5f15\u5165\u903b\u8f91\u7535\u5e73\uff0c\u5373\u81ea\u884c\u5b9a\u4e490\u548c1\u5bf9\u5e94\u7684\u7535\u5e73\u72b6\u6001\u3002"),(0,l.kt)("p",null,"\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"csk-sdk\\include\\dt-bindings\\gpio\\gpio.h"),"\u4e2d\u7528\u4e24\u4e2a\u5b8fflag\u8868\u793a\u903b\u8f91\u7535\u5e73\u5bf9\u5e94\u7684\u7269\u7406\u7535\u5e73:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"/** GPIO pin is active (has logical value '1') in low state. */\n#define GPIO_ACTIVE_LOW         (1 << 0)\n/** GPIO pin is active (has logical value '1') in high state. */\n#define GPIO_ACTIVE_HIGH        (0 << 0)\n")),(0,l.kt)("p",null,"\u5728Zephyr\u5f00\u53d1\u4e2d\u901a\u8fc7",(0,l.kt)("inlineCode",{parentName:"p"},"gpio_pin_config(struct device *port, gpio_pin_t pin, gpio_flags_t flags)"),"\u63a5\u53e3\u7684flags\u6807\u5fd7\u5bf9GPIO\u8fdb\u884c\u903b\u8f91\u7535\u5e73\u7684\u6a21\u5f0f\u914d\u7f6e\uff0c\u6839\u636e\u5b8fflag\u7684\u5b9a\u4e49\uff0cGPIO\u903b\u8f91\u7535\u5e73\u548c\u7269\u7406\u7535\u5e73\u7684\u5bf9\u5e94\u5173\u7cfb\u5982\u4e0b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5f53GPIO\u88ab\u914d\u7f6e\u4e3aGPIO_ACTIVE_LOW\u65f6\uff1aGPIO\u4e0a\u51fa\u73b0\u4f4e\u7535\u5e73\u65f6\u8868\u793a\u903b\u8f91\u7535\u5e731")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u7269\u7406\u7535\u5e73\uff08gpio leve\uff09"),(0,l.kt)("th",{parentName:"tr",align:null},"\u903b\u8f91\u7535\u5e73(gpio logic level)"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"0")))),(0,l.kt)("br",null),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5f53GPIO\u88ab\u914d\u7f6e\u4e3aGPIO_ACTIVE_HIGH\u65f6\uff1aGPIO\u4e0a\u51fa\u73b0\u9ad8\u7535\u5e73\u65f6\u8868\u793a\u903b\u8f91\u7535\u5e731")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u7269\u7406\u7535\u5e73\uff08gpio leve\uff09"),(0,l.kt)("th",{parentName:"tr",align:null},"\u903b\u8f91\u7535\u5e73(gpio logic level)"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"1")))),(0,l.kt)("br",null),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5f53GPIO\u914d\u7f6e\u65f6GPIO_ACTIVE_LOW\u548cGPIO_ACTIVE_HIGH\u90fd\u6ca1\u8bbe\u7f6e\uff0c\u5c06\u4f1a\u9ed8\u8ba4\u4f7f\u7528GPIO_ACTIVE_HIGH\uff0c\u4e5f\u5c31\u662f\u7269\u7406\u7535\u5e73\u548c\u903b\u8f91\u7535\u5e73\u4e00\u81f4\u3002")),(0,l.kt)("br",null),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\u4e86\u89e3GPIO\u903b\u8f91\u7535\u5e73\u548c\u7269\u7406\u7535\u5e73\u7684\u5bf9\u5e94\u5173\u7cfb\u5bf9\u672c\u7ae0\u8282\u540e\u7eed\u7684GPIO\u5f15\u811a\u7684\u914d\u7f6e\u548c\u8bfb\u5199\u64cd\u4f5c\u5f88\u6709\u5e2e\u52a9\uff0cGPIO\u903b\u8f91\u7535\u5e73\u7684\u8bfb\u548c\u5199\u64cd\u4f5c\u63a5\u53e3\u90fd\u4f1a\u4f9d\u8d56\u914d\u7f6e\u7684GPIO_ACTIVE_LOW\u3001GPIO_ACTIVE_HIGH\u6807\u5fd7\u3002"))),(0,l.kt)("h2",{id:"gpio\u7684\u5e38\u89c1\u914d\u7f6e\u6807\u5fd7"},"GPIO\u7684\u5e38\u89c1\u914d\u7f6e\u6807\u5fd7"),(0,l.kt)("h3",{id:"gpio\u7684\u8f93\u5165\u8f93\u51fa\u6807\u5fd7"},"GPIO\u7684\u8f93\u5165/\u8f93\u51fa\u6807\u5fd7"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"flag"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_INPUT"),(0,l.kt)("td",{parentName:"tr",align:null},"\u542f\u7528GPIO\u4e3a\u8f93\u5165")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_OUTPUT"),(0,l.kt)("td",{parentName:"tr",align:null},"\u542f\u7528GPIO\u4e3a\u8f93\u51fa\uff0c\u4e0d\u6539\u53d8\u8f93\u51fa\u72b6\u6001")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_DISCONNECTED"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8f93\u5165\u548c\u8f93\u51fa\u90fd\u914d\u7f6e\u4e3a\u7981\u7528")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_OUTPUT_LOW"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06GPIO\u914d\u7f6e\u4e3a\u8f93\u51fa\u5e76\u5c06\u5176\u521d\u59cb\u5316\u4e3a\u4f4e")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_OUTPUT_HIGH"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06GPIO\u914d\u7f6e\u4e3a\u8f93\u51fa\u5e76\u5c06\u5176\u521d\u59cb\u5316\u4e3a\u9ad8")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_OUTPUT_INACTIVE"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06GPIO\u914d\u7f6e\u4e3a\u8f93\u51fa\u5e76\u5c06\u5176\u521d\u59cb\u5316\u4e3a\u903b\u8f91\u7535\u5e730")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_OUTPUT_ACTIVE"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06GPIO\u914d\u7f6e\u4e3a\u8f93\u51fa\u5e76\u5c06\u5176\u521d\u59cb\u5316\u4e3a\u903b\u8f91\u7535\u5e731")))),(0,l.kt)("h3",{id:"gpio\u7684\u4e2d\u65ad\u6807\u5fd7"},"GPIO\u7684\u4e2d\u65ad\u6807\u5fd7"),(0,l.kt)("p",null,"\u4e2d\u65ad\u914d\u7f6e\u6807\u5fd7",(0,l.kt)("inlineCode",{parentName:"p"},"(GPIO_INT_*)"),"\u7528\u6765\u6307\u5b9a\u4f5c\u4e3a\u8f93\u5165\u7684GPIO\u5f15\u811a\u4ee5\u4f55\u79cd\u65b9\u5f0f\u89e6\u53d1\u4e2d\u65ad\u3002\u4e2d\u65ad\u53ef\u7531PIN\u811a\u7684\u7269\u7406\u7535\u5e73\u6216\u903b\u8f91\u6c34\u5e73\u89e6\u53d1\u3002GPIO\u4e2d\u65ad\u7684\u89e6\u53d1\u4e5f\u4f1a\u6839\u636e\u914d\u7f6e\u7684GPIO_ACTIVE_LOW\u3001GPIO_ACTIVE_HIGH\u6807\u5fd7\u6765\u5224\u65ad\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"flag"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_INT_DISABLE"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7981\u7528 GPIO \u7ba1\u811a\u4e2d\u65ad")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_INT_EDGE_RISING"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06GPIO\u4e2d\u65ad\u914d\u7f6e\u4e3a\u5f15\u811a\u4e0a\u5347\u6cbf\u89e6\u53d1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_INT_EDGE_FALLING"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06 GPIO \u4e2d\u65ad\u914d\u7f6e\u4e3a\u5728\u5f15\u811a\u4e0b\u964d\u6cbf\u89e6\u53d1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_INT_EDGE_BOTH"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06GPIO\u4e2d\u65ad\u914d\u7f6e\u4e3a\u5728\u5f15\u811a\u4e0a\u5347\u6216\u4e0b\u964d\u65f6\u89e6\u53d1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_INT_LEVEL_LOW"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06GPIO\u4e2d\u65ad\u914d\u7f6e\u4e3a\u5f15\u811a\u7269\u7406\u7535\u5e73\u62c9\u4f4e\u5e76\u4fdd\u6301")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_INT_LEVEL_HIGH"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06GPIO\u4e2d\u65ad\u914d\u7f6e\u4e3a\u5f15\u811a\u7269\u7406\u7535\u5e73\u62c9\u9ad8\u5e76\u4fdd\u6301")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_INT_EDGE_TO_INACTIVE"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06GPIO\u4e2d\u65ad\u914d\u7f6e\u4e3a\u5f15\u811a\u53d8\u4e3a\u4f4e\u7535\u5e73\u65f6\u89e6\u53d1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_INT_EDGE_TO_ACTIVE"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06GPIO\u4e2d\u65ad\u914d\u7f6e\u4e3a\u5f15\u811a\u53d8\u9ad8\u7535\u5e73\u65f6\u89e6\u53d1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_INT_LEVEL_INACTIVE"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06GPIO\u4e2d\u65ad\u914d\u7f6e\u4e3a\u7ba1\u811a\u903b\u8f91\u7535\u5e730\u65f6\u89e6\u53d1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_INT_LEVEL_ACTIVE"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06GPIO\u4e2d\u65ad\u914d\u7f6e\u4e3a\u7ba1\u811a\u903b\u8f91\u7535\u5e731\u65f6\u89e6\u53d1")))),(0,l.kt)("p",null,"flag\u914d\u7f6e\u5bf9\u5e94\u7684\u5185\u5bb9\u53ef\u4ee5\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"csk-sdk\\include\\dt-bindings\\gpio\\gpio.h"),"\u4e2d\u67e5\u770b\u3002"),(0,l.kt)("h3",{id:"gpio-\u5f15\u811a\u4e0a\u4e0b\u62c9\u914d\u7f6e"},"GPIO \u5f15\u811a\u4e0a\u4e0b\u62c9\u914d\u7f6e"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u72b6\u6001"),(0,l.kt)("th",{parentName:"tr",align:null},"\u5c5e\u6027"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_PULL_UP"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f15\u811a\u4e0a\u62c9")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"GPIO_PULL_DOWN"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f15\u811a\u4e0b\u62c9")))),(0,l.kt)("h2",{id:"gpio\u7684\u64cd\u4f5c\u63a5\u53e3"},"GPIO\u7684\u64cd\u4f5c\u63a5\u53e3"),(0,l.kt)("h3",{id:"gpio\u914d\u7f6e"},"GPIO\u914d\u7f6e"),(0,l.kt)("h4",{id:"\u914d\u7f6egpio"},(0,l.kt)("strong",{parentName:"h4"},"\u914d\u7f6eGPIO")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int gpio_pin_configure(const struct device *port, gpio_pin_t pin, gpio_flags_t flags)\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53c2\u6570\u8bf4\u660e")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"port"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6307\u5411GPIO\u8bbe\u5907\u5b9e\u4f8b\u7684\u6307\u9488")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pin"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8981\u914d\u7f6e\u7684\u5f15\u811a\u7f16\u53f7")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"flags"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f15\u811a\u914d\u7f6e\u7684\u6807\u5fd7:  GPIO \u8f93\u5165/\u8f93\u51fa\u914d\u7f6e\u6807\u5fd7\uff0c GPIO \u5f15\u811a\u9a71\u52a8\u6807\u5fd7\uff0c GPIO \u5f15\u811a\u504f\u7f6e\u6807\u5fd7")))),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"\u901a\u8fc7\u8bbe\u5907\u6811\u914d\u7f6egpio"},(0,l.kt)("strong",{parentName:"h4"},"\u901a\u8fc7\u8bbe\u5907\u6811\u914d\u7f6eGPIO")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int gpio_pin_configure_dt(const struct gpio_dt_spec *spec, gpio_flags_t extra_flags)\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53c2\u6570\u8bf4\u660e")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"spec"),(0,l.kt)("td",{parentName:"tr",align:null},"GPIO\u914d\u7f6e\u4fe1\u606f\u7ed3\u6784\u4f53\uff0c\u4ece\u8bbe\u5907\u6811\u914d\u7f6e\u83b7\u53d6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"extra_flags"),(0,l.kt)("td",{parentName:"tr",align:null},"GPIO \u6807\u5fd7(\u8f93\u5165/\u8f93\u51fa\u7b49)")))),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"\u914d\u7f6egpio\u7684\u4e2d\u65ad"},(0,l.kt)("strong",{parentName:"h4"},"\u914d\u7f6eGPIO\u7684\u4e2d\u65ad")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int gpio_pin_interrupt_configure(const struct device *port, gpio_pin_t pin, gpio_flags_t flags)\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53c2\u6570\u8bf4\u660e")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"port"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6307\u5411GPIO\u8bbe\u5907\u5b9e\u4f8b\u7684\u6307\u9488")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pin"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8981\u914d\u7f6e\u7684\u5f15\u811a\u7f16\u53f7")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"flags"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7531",(0,l.kt)("inlineCode",{parentName:"td"},"GPIO_ INT_ *")," \u5b9a\u4e49\u7684\u4e2d\u65ad\u914d\u7f6e\u6807\u5fd7")))),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"\u901a\u8fc7\u8bbe\u5907\u6811\u914d\u7f6egpio\u4e2d\u65ad"},(0,l.kt)("strong",{parentName:"h4"},"\u901a\u8fc7\u8bbe\u5907\u6811\u914d\u7f6eGPIO\u4e2d\u65ad")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int gpio_pin_interrupt_configure_dt(const struct gpio_dt_spec *spec, gpio_flags_t flags)\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53c2\u6570\u8bf4\u660e")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"spec"),(0,l.kt)("td",{parentName:"tr",align:null},"GPIO\u914d\u7f6e\u4fe1\u606f\u7ed3\u6784\u4f53\uff0c\u4ece\u8bbe\u5907\u6811\u914d\u7f6e\u83b7\u53d6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"flags"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4e2d\u65ad\u914d\u7f6e\u6807\u5fd7")))),(0,l.kt)("br",null),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"gpio_dt_spec\u4e3aGPIO\u7684\u8bbe\u5907\u6811\u914d\u7f6e\u7ed3\u6784\u4f53\uff0c\u901a\u8fc7GPIO_DT_SPEC_GET_OR()\u63a5\u53e3\u4ece\u8bbe\u5907\u6811\u83b7\u53d6GPIO\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u7ed3\u6784\u4f53\u5185\u5bb9\u5982\u4e0b\uff1a"),(0,l.kt)("pre",{parentName:"div"},(0,l.kt)("code",{parentName:"pre",className:"language-c"},"struct gpio_dt_spec {\n    const struct device *port;//GPIO\u7684\u8bbe\u5907\u5b9e\u4f8b\n    gpio_pin_t pin;//GPIO pin\u811a\n    gpio_dt_flags_t dt_flags;//pin\u811a\u7684\u529f\u80fd\u6807\u5fd7\n}\n")))),(0,l.kt)("h3",{id:"\u5199gpio"},"\u5199GPIO"),(0,l.kt)("h4",{id:"\u5199\u8f93\u51fagpio\u903b\u8f91\u7535\u5e73"},(0,l.kt)("strong",{parentName:"h4"},"\u5199\u8f93\u51faGPIO\u903b\u8f91\u7535\u5e73")),(0,l.kt)("p",null,"\u5199gpio\u903b\u8f91\u7535\u5e73\u64cd\u4f5c\u9700\u8981\u53c2\u8003GPIO_ACTIVE_LOW\u6216GPIO_ACTIVE_HIGH\u914d\u7f6e\u4e0b\u903b\u8f91\u7535\u5e73\u548c\u7269\u7406\u7535\u5e73\u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u4f8b\u5982\u5f53GPIO\u914d\u7f6e\u4e3aGPIO_ACTIVE_LOW\u65f6\uff0c\u8bbe\u7f6e\u903b\u8f91\u7535\u5e73\u4e3a1\u5219GPIO\u8f93\u51fa\u4f4e\u7535\u5e73\u3002\u5f53GPIO\u914d\u7f6e\u4e3aGPIO_ACTIVE_HIGH\u65f6\uff0c\u8bbe\u7f6e\u903b\u8f91\u7535\u5e731\u5219GPIO\u8f93\u51fa\u9ad8\u7535\u5e73\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int gpio_pin_set(const struct device *port, gpio_pin_t pin, int value)\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53c2\u6570\u8bf4\u660e")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"port"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6307\u5411GPIO\u8bbe\u5907\u5b9e\u4f8b\u7684\u6307\u9488")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pin"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8981\u914d\u7f6e\u7684\u5f15\u811a\u7f16\u53f7")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"value"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5206\u914d\u7ed9\u5f15\u811a\u7684\u503c")))),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"\u5199\u8f93\u51fagpio\u7269\u7406\u7535\u5e73"},(0,l.kt)("strong",{parentName:"h4"},"\u5199\u8f93\u51faGPIO\u7269\u7406\u7535\u5e73")),(0,l.kt)("p",null,"\u7ed9GPIO\u5199\u7269\u7406\u7535\u5e73\u4e0d\u9700\u8981\u53c2\u8003GPIO_ACTIVE_LOW\u6216GPIO_ACTIVE_HIGH\u914d\u7f6e\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int gpio_pin_set_raw(const struct device *port, gpio_pin_t pin, int value)\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53c2\u6570\u8bf4\u660e")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"port"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6307\u5411GPIO\u8bbe\u5907\u5b9e\u4f8b\u7684\u6307\u9488")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pin"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8981\u914d\u7f6e\u7684\u5f15\u811a\u7f16\u53f7")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"value"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5206\u914d\u7ed9\u5f15\u811a\u7684\u503c")))),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"\u901a\u8fc7\u8bbe\u5907\u6811\u5199\u8f93\u51fagpio\u903b\u8f91\u7535\u5e73"},(0,l.kt)("strong",{parentName:"h4"},"\u901a\u8fc7\u8bbe\u5907\u6811\u5199\u8f93\u51faGPIO\u903b\u8f91\u7535\u5e73")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int gpio_pin_set_dt(const struct gpio_dt_spec *spec, int value)\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53c2\u6570\u8bf4\u660e")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"spec"),(0,l.kt)("td",{parentName:"tr",align:null},"GPIO\u914d\u7f6e\u4fe1\u606f\u7ed3\u6784\u4f53\uff0c\u4ece\u8bbe\u5907\u6811\u914d\u7f6e\u83b7\u53d6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"value"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5206\u914d\u7ed9\u5f15\u811a\u7684\u503c")))),(0,l.kt)("br",null),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\u5982\u679cGPIO\u914d\u7f6e\u4e3aGPIO_ACTIVE_HIGH\uff0c\u5219gpio_pin_set()\u51fd\u6570\u7b49\u6548\u4e8egpio_pin_set_raw()\u3002"))),(0,l.kt)("h3",{id:"\u8bfbgpio"},"\u8bfbGPIO"),(0,l.kt)("h4",{id:"\u8bfb\u8f93\u5165\u5f15\u811a\u7684\u903b\u8f91\u7535\u5e73"},(0,l.kt)("strong",{parentName:"h4"},"\u8bfb\u8f93\u5165\u5f15\u811a\u7684\u903b\u8f91\u7535\u5e73")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int gpio_pin_get(const struct device *port, gpio_pin_t pin)\n")),(0,l.kt)("p",null,"\u83b7\u53d6GPIO\u903b\u8f91\u7535\u5e73\uff0c\u540c\u65f6\u8003\u8651\u5230 GPIO_ACTIVE_LOW\u3001GPIO_ACTIVE_HIGH\u6807\u5fd7\u3002\u5982\u679c\u5c06GPIO\u914d\u7f6e\u4e3aGPIO_ACTIVE_HIGH\uff0c\u5219GPIO\u4e3a\u7269\u7406\u4f4e\u7535\u5e73\u65f6\u901a\u8fc7\u8be5\u63a5\u53e3\u83b7\u53d6\u7684\u903b\u8f91\u7535\u5e73\u4e3a0\u3002\u5982\u679c\u5c06GPIO\u914d\u7f6e\u4e3aGPIO_ACTIVE_LOW\uff0c\u5219GPIO\u4e3a\u7269\u7406\u4f4e\u7535\u5e73\u65f6\u901a\u8fc7\u63a5\u53e3\u8fc7\u53bb\u7684\u903b\u8f91\u7535\u5e73\u4e3a1\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53c2\u6570\u8bf4\u660e")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"port"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6307\u5411GPIO\u8bbe\u5907\u5b9e\u4f8b\u7684\u6307\u9488")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pin"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f15\u811a\u7f16\u53f7")))),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"\u901a\u8fc7\u8bbe\u5907\u6811\u8bfb\u8f93\u5165\u5f15\u811a\u7684\u903b\u8f91\u7535\u5e73"},(0,l.kt)("strong",{parentName:"h4"},"\u901a\u8fc7\u8bbe\u5907\u6811\u8bfb\u8f93\u5165\u5f15\u811a\u7684\u903b\u8f91\u7535\u5e73")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int gpio_pin_get_dt(const struct gpio_dt_spec *spec)\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53c2\u6570\u8bf4\u660e")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"spec"),(0,l.kt)("td",{parentName:"tr",align:null},"GPIO\u914d\u7f6e\u4fe1\u606f\u7ed3\u6784\u4f53\uff0c\u4ece\u8bbe\u5907\u6811\u914d\u7f6e\u83b7\u53d6")))),(0,l.kt)("br",null),(0,l.kt)("h4",{id:"\u8bfb\u8f93\u5165\u5f15\u811a\u7684\u7269\u7406\u7535\u5e73"},(0,l.kt)("strong",{parentName:"h4"},"\u8bfb\u8f93\u5165\u5f15\u811a\u7684\u7269\u7406\u7535\u5e73")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},"int gpio_pin_get_raw(const struct device *port, gpio_pin_t pin)\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53c2\u6570\u8bf4\u660e")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"port"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6307\u5411GPIO\u8bbe\u5907\u5b9e\u4f8b\u7684\u6307\u9488")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pin"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f15\u811a\u7f16\u53f7")))),(0,l.kt)("br",null),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\u5982\u679cGPIO\u914d\u7f6e\u4e3aGPIO_ACTIVE_HIGH\uff0c\u5219gpio_pin_get()\u7b49\u6548\u4e8egpio_pin_get_raw()\u3002"))),(0,l.kt)("p",null,"\u66f4\u591aGPIO API\u63a5\u53e3\u8bf7\u770bZephyr\u5b98\u7f51",(0,l.kt)("a",{parentName:"p",href:"https://docs.Zephyrproject.org/latest/doxygen/html/group__gpio__interface.html"},"GPIO Driver APIs"),"\u63cf\u8ff0\u3002"),(0,l.kt)("h2",{id:"\u4f7f\u7528\u793a\u4f8b"},"\u4f7f\u7528\u793a\u4f8b"),(0,l.kt)("h3",{id:"\u793a\u4f8b1gpio\u4f5c\u4e3a\u8f93\u51fa\u5f15\u811a"},"\u793a\u4f8b1\uff1aGPIO\u4f5c\u4e3a\u8f93\u51fa\u5f15\u811a"),(0,l.kt)("p",null,"\u672c\u793a\u4f8b\u5c06\u901a\u8fc7\u4e00\u4e2a\u7b80\u5355\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u5c55\u793a\u5982\u4f55\u901a\u8fc7GPIO\u5f15\u811a\u63a7\u5236LED\u706f\u7684\u4eae\u706d\u7684\u64cd\u4f5c\u3002"),(0,l.kt)("h4",{id:"\u51c6\u5907\u5de5\u4f5c"},"\u51c6\u5907\u5de5\u4f5c"),(0,l.kt)("p",null,"\u5b9e\u73b0Blinky\u793a\u4f8b\u7684\u9884\u671f\u6548\u679c\u9700\u8981\u786c\u4ef6\u5f00\u53d1\u677f\u4e0a\u5fc5\u987b\u6709\u4e00\u4e2aGPIO\u8fde\u63a5\u4e86\u4e00\u4e2aLED\u706f\uff0c\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"csk6011a_nano"),"\u5f00\u53d1\u677f\u4e0a\u662f\u6709\u8fd9\u4e2a\u8bbe\u8ba1\u7684\uff0c\u901a\u8fc7\u67e5\u770b\u5f00\u53d1\u677f\u5e95\u677f\u539f\u7406\u56fe\uff0c\u4f60\u53ef\u4ee5\u770b\u5230LED\u5bf9\u5e94\u7684\u7535\u8def\u8bbe\u8ba1\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230LED1(Green)\u5bf9\u5e94\u7684\u63a7\u5236\u5f15\u811a\u4e3a:GPIOA_06\n",(0,l.kt)("img",{src:n(19545).Z})),(0,l.kt)("h4",{id:"\u83b7\u53d6sample\u9879\u76ee"},"\u83b7\u53d6sample\u9879\u76ee"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"CSK6 SDK"),"\u63d0\u4f9b\u4e86GPIO\u4f5c\u4e3a\u8f93\u51fa\u5f15\u811a\u7684sample\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6307\u4ee4\u83b7\u53d6\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"lisa zep create\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"samples \u2192 basic \u2192 blinky")),(0,l.kt)("p",null,"blinky sample\u521b\u5efa\u6210\u529f\u3002"),(0,l.kt)("h4",{id:"\u7ec4\u4ef6\u914d\u7f6e"},"\u7ec4\u4ef6\u914d\u7f6e"),(0,l.kt)("p",null,"\u5728prj.conf\u6587\u4ef6\u4e2d\u6dfb\u52a0\u9879\u76ee\u57fa\u7840\u7ec4\u4ef6\u914d\u7f6e:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"# \u6253\u5f00GPIO\u914d\u7f6e\nCONFIG_GPIO=y\n")),(0,l.kt)("h4",{id:"\u8bbe\u5907\u6811\u914d\u7f6e"},"\u8bbe\u5907\u6811\u914d\u7f6e"),(0,l.kt)("p",null,"CSK6 SDK\u4e2d",(0,l.kt)("inlineCode",{parentName:"p"},"csk6011a_nano"),"\u677f\u578b\u5df2\u7ecf\u9ed8\u8ba4\u9002\u914d\u4e86led\u7684 GPIO \u8bbe\u5907\u6811\u914d\u7f6e\uff0c\u5f00\u53d1\u8005\u65e0\u9700\u53e6\u5916\u914d\u7f6e\u3002\u5177\u4f53\u5185\u5bb9\u5728\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"csk-sdk\\zephyr\\boards\\arm\\csk6011a_nano\\csk6011a_nano.dts"),"\u6587\u4ef6\u4e2d\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'\n / \n    /*\u5b9a\u4e49\u522b\u540d\u4e3aled0\u7684gpio\u8bbe\u5907\u6811*/ \n    aliases {\n        led0 = &green_led;\n        ...\n    };\n\n    leds {\n        compatible = "gpio-leds";\n        green_led: led1 {\n                gpios = <&gpiob 6 GPIO_ACTIVE_LOW>;\n                label = "User LED1";\n        };\n    };\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8bbe\u5907\u6811\u914d\u7f6e\u8bf4\u660e\uff1a"),"  "),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"green_led"),(0,l.kt)("td",{parentName:"tr",align:null},"led \u8bbe\u5907\u6811\u7684 node label\uff0c\u53ef\u901a\u8fc7 node label \u83b7\u53d6 led \u8bbe\u5907\u6811\u7684\u914d\u7f6e\u4fe1\u606f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"led1"),(0,l.kt)("td",{parentName:"tr",align:null},"led \u8bbe\u5907\u6811\u7684 node id\uff0c\u53ef\u901a\u8fc7 node id\u83b7\u53d6 led \u8bbe\u5907\u6811\u7684\u914d\u7f6e\u4fe1\u606f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"gpios = <&gpiob 6 GPIO_ACTIVE_LOW>;"),(0,l.kt)("td",{parentName:"tr",align:null},"&gpiob 6\uff1aGPIO\u5f15\u811a\uff1b",(0,l.kt)("br",null)," GPIO_ACTIVE_LOW gpio flag\u914d\u7f6e,\u5f53GPIO\u88ab\u914d\u7f6e\u4e3a GPIO_ACTIVE_LOW \u65f6\uff0cGPIO\u4e0a\u51fa\u73b0\u4f4e\u7535\u5e73\u65f6\u8868\u793a\u903b\u8f91\u7535\u5e731")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},'label = "User LED1"'),(0,l.kt)("td",{parentName:"tr",align:null},"led \u8282\u70b9\u7684 label \u5c5e\u6027(Label propert)\uff0c\u901a\u8fc7\u4f20\u5165device_get_binding()\u63a5\u53e3\u53ef\u4ee5\u83b7\u53d6gpio\u8bbe\u5907\u7684\u8bbe\u5907\u5b9e\u4f8b")))),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"\u66f4\u591a\u5173\u4e8e\u8bbe\u5907\u6811\u7684\u5185\u5bb9\u8bf7\u5b66\u4e60",(0,l.kt)("a",{parentName:"p",href:"/docs-csk6/chips/600X/build/dts/intro"},"\u8bbe\u5907\u6811"),"\u7ae0\u8282\u3002"))),(0,l.kt)("h4",{id:"\u5e94\u7528\u903b\u8f91\u5b9e\u73b0"},"\u5e94\u7528\u903b\u8f91\u5b9e\u73b0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'#include <zephyr/zephyr.h>\n#include <zephyr/drivers/gpio.h>\n\n/* 1000 msec = 1 sec */\n#define SLEEP_TIME_MS   1000\n\n/* \u901a\u8fc7\u522b\u540d\u83b7\u53d6 "led0" \u8bbe\u5907\u6811 node id */\n#define LED0_NODE DT_ALIAS(led0)\n\n /* \u901a\u8fc7 node id \u83b7\u53d6 led \u8bbe\u5907\u6811\u4fe1\u606f */\nstatic const struct gpio_dt_spec led = GPIO_DT_SPEC_GET(LED0_NODE, gpios);\n\nvoid main(void)\n{\n    printk("Hello World! %s\\n", CONFIG_BOARD);\n    \n    int ret;\n    /* \u68c0\u67e5\u786c\u4ef6\u8bbe\u5907\u662f\u5426\u5c31\u7eea */\n    if (!device_is_ready(led.port)) {\n        return;\n    }\n\n    /* \u5c06GPIO\u914d\u7f6e\u4e3a\u8f93\u51fa\u5e76\u5c06\u5176\u521d\u59cb\u5316\u4e3a\u903b\u8f91\u7535\u5e731 */\n    ret = gpio_pin_configure_dt(&led, GPIO_OUTPUT_ACTIVE);\n    if (ret < 0) {\n        return;\n    }\n\n    while (1) {\n        /* GPIO\u7535\u5e73\u53cd\u8f6c\u63a7\u5236 */\n        ret = gpio_pin_toggle_dt(&led);\n        if (ret < 0) {\n            return;\n        }\n        k_msleep(SLEEP_TIME_MS);\n    }\n}\n')),(0,l.kt)("h4",{id:"\u7f16\u8bd1\u548c\u70e7\u5f55"},"\u7f16\u8bd1\u548c\u70e7\u5f55"),(0,l.kt)("h5",{id:"\u7f16\u8bd1"},"\u7f16\u8bd1"),(0,l.kt)("p",null,"\u5728sample\u6839\u76ee\u5f55\u4e0b\u901a\u8fc7\u4ee5\u4e0b\u6307\u4ee4\u5b8c\u6210\u7f16\u8bd1\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"lisa zep build -b csk6011a_nano\n")),(0,l.kt)("h5",{id:"\u70e7\u5f55"},"\u70e7\u5f55"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"csk6011a_nano"),"\u901a\u8fc7USB\u8fde\u63a5PC\uff0c\u901a\u8fc7\u70e7\u5f55\u6307\u4ee4\u70e7\u5f55\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"lisa zep flash --runner pyocd\n")),(0,l.kt)("p",null,"\u5b8c\u6210\u70e7\u5f55\u540e\uff0c\u53ef\u770b\u5230\u7ec8\u7aef\u8f93\u51fa \u201c\u70e7\u5f55\u6210\u529f\u201d \u7684\u63d0\u793a\uff0c\u5982\u56fe\uff1a\n",(0,l.kt)("img",{src:n(73405).Z})),(0,l.kt)("h5",{id:"\u67e5\u770b\u7ed3\u679c"},"\u67e5\u770b\u7ed3\u679c"),(0,l.kt)("p",null,"\u9884\u671f\u7684\u6548\u679c:\u5f00\u53d1\u677f\u4e0a\u7684LED\u706f(\u7eff)\u5728\u4e0d\u65ad\u7684\u95ea\u70c1\uff0c\u5982\u679c\u5728\u4f60\u7684\u5f00\u53d1\u677f\u4e0a\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u6548\u679c\uff0c\u90a3\u4e48\u606d\u559c\uff0c\u4f60\u987a\u5229\u7684\u5b8c\u6210\u4e86LED\u7684\u63a7\u5236\uff0c\u5728CSK6\u7684\u5f00\u53d1\u4e0a\u53c8\u8fc8\u51fa\u4e86\u4e00\u6b65\uff01"),(0,l.kt)("h3",{id:"\u793a\u4f8b2gpio\u4f5c\u4e3a\u8f93\u5165\u5f15\u811a"},"\u793a\u4f8b2\uff1aGPIO\u4f5c\u4e3a\u8f93\u5165\u5f15\u811a"),(0,l.kt)("p",null,"\u672c\u793a\u4f8b\u5c06\u901a\u8fc7\u4e00\u4e2a\u7b80\u5355\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u5c55\u793a\u5982\u4f55\u901a\u8fc7GPIO\u5f15\u811a\u4f5c\u4e3a\u8f93\u5165\u4e2d\u65ad\u68c0\u6d4b\u5b9e\u73b0\u6309\u952e\u68c0\u6d4b\u7684\u529f\u80fd\uff0c\u540c\u65f6\u901a\u8fc7LED\u7684\u4eae\u706d(\u793a\u4f8b1\u4e2d\u4f7f\u7528\u7684LED)\u6765\u5c55\u793a\u6309\u952e\u4e8b\u4ef6\u7684\u54cd\u5e94\u7ed3\u679c\u3002"),(0,l.kt)("h4",{id:"\u51c6\u5907\u5de5\u4f5c-1"},"\u51c6\u5907\u5de5\u4f5c"),(0,l.kt)("p",null,"\u672c\u793a\u4f8b\u57fa\u4e8eCSK6-NanoKit\u5f00\u53d1\u677f\u6765\u5b9e\u73b0\uff0c\u9700\u8981\u505a\u5982\u4e0b\u51c6\u5907\u5de5\u4f5c\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u51c6\u5907\u4e00\u4e2aCSK6-NanoKit\u5f00\u53d1\u677f"),(0,l.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u4e32\u53e3\u8fde\u63a5PC\u7aef\u67e5\u770b\u65e5\u5fd7\uff0c\u65e5\u5fd7\u4e32\u53e3",(0,l.kt)("inlineCode",{parentName:"li"},"GPIOA_03 TX GPIOA_02 RX"))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"CSK6-NanoKit\u5f00\u53d1\u677f\u7684\u6309\u952e\u7535\u8def\uff1a")),(0,l.kt)("p",null,(0,l.kt)("img",{src:n(3803).Z})),(0,l.kt)("h4",{id:"\u83b7\u53d6sample\u9879\u76ee-1"},"\u83b7\u53d6sample\u9879\u76ee"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"CSK6 SDK"),"\u63d0\u4f9b\u4e86GPIO\u4f5c\u4e3a\u8f93\u5165\u7684\u6309\u952e\u68c0\u6d4bsample\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6307\u4ee4\u83b7\u53d6\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"lisa zep create\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"samples \u2192 basic \u2192 button")),(0,l.kt)("p",null,"Button sample\u521b\u5efa\u6210\u529f\u3002"),(0,l.kt)("h4",{id:"\u8bbe\u5907\u6811\u914d\u7f6e-1"},"\u8bbe\u5907\u6811\u914d\u7f6e"),(0,l.kt)("p",null,"CSK6 SDK\u4e2d",(0,l.kt)("inlineCode",{parentName:"p"},"csk6011a_nano"),"\u677f\u578b\u5df2\u7ecf\u9ed8\u8ba4\u9002\u914d\u4e86 button \u7684 GPIO \u8bbe\u5907\u6811\u914d\u7f6e\uff0c\u5f00\u53d1\u8005\u65e0\u9700\u53e6\u5916\u914d\u7f6e\u3002\u5177\u4f53\u5185\u5bb9\u5728\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"csk-sdk\\zephyr\\boards\\arm\\csk6011a_nano\\csk6011a_nano.dts"),"\u6587\u4ef6\u4e2d\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'        gpio_keys {\n                compatible = "gpio-keys";\n                user_button_0: button_0 {\n                        label = "User SW0";\n                        gpios = <&gpiob 5 0>;\n                };\n        };\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u8bbe\u5907\u6811\u914d\u7f6e\u8bf4\u660e\uff1a")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"user_button_0"),(0,l.kt)("td",{parentName:"tr",align:null},"button0 \u8bbe\u5907\u6811\u7684 node label\uff0c\u53ef\u901a\u8fc7 node label \u83b7\u53d6 button0 \u8bbe\u5907\u6811\u7684\u914d\u7f6e\u4fe1\u606f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"button_0"),(0,l.kt)("td",{parentName:"tr",align:null},"button0 \u8bbe\u5907\u6811\u7684 node id\uff0c\u53ef\u901a\u8fc7 node id\u83b7\u53d6 button0 \u8bbe\u5907\u6811\u7684\u914d\u7f6e\u4fe1\u606f")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"gpios = <&gpiob 5 0>"),(0,l.kt)("td",{parentName:"tr",align:null},"&gpiob 5\uff1agpiob_5\uff1b",(0,l.kt)("br",null),"0\uff1agpio flag\u914d\u7f6e\uff0c\u5f53GPIO\u88ab\u914d\u7f6e\u4e3a GPIO_ACTIVE_LOW \u65f6\uff0cGPIO\u4e0a\u51fa\u73b0\u4f4e\u7535\u5e73\u65f6\u8868\u793a\u903b\u8f91\u7535\u5e731")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},'label = "User SW0";'),(0,l.kt)("td",{parentName:"tr",align:null},"button0 \u8282\u70b9 \u7684 label \u5c5e\u6027",(0,l.kt)("a",{parentName:"td",href:"https://docs.Zephyrproject.org/latest/build/dts/intro.html#important-properties"},"(Label propert)"),"\uff0c\u901a\u8fc7\u4f20\u5165device_get_binding()\u63a5\u53e3\u53ef\u4ee5\u83b7\u53d6gpio\u8bbe\u5907\u7684\u5b9e\u4f8b")))),(0,l.kt)("h4",{id:"\u7ec4\u4ef6\u914d\u7f6e-1"},"\u7ec4\u4ef6\u914d\u7f6e"),(0,l.kt)("p",null,"\u5728prj.conf\u6587\u4ef6\u4e2d\u6dfb\u52a0\u9879\u76ee\u57fa\u7840\u7ec4\u4ef6\u914d\u7f6e\u914d\u7f6e:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"# \u6253\u5f00GPIO\u914d\u7f6e\nCONFIG_GPIO=y\n")),(0,l.kt)("h4",{id:"\u5e94\u7528\u903b\u8f91\u5b9e\u73b0-1"},"\u5e94\u7528\u903b\u8f91\u5b9e\u73b0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-c"},'#include <Zephyr.h>\n#include <device.h>\n#include <drivers/gpio.h>\n#include <sys/util.h>\n#include <sys/printk.h>\n#include <inttypes.h>\n\n#define SLEEP_TIME_MS   1\n\n#define SW0_NODE    DT_ALIAS(sw0)\n#if !DT_NODE_HAS_STATUS(SW0_NODE, okay)\n#error "Unsupported board: sw0 devicetree alias is not defined"\n#endif\n/* \u901a\u8fc7GPIO_DT_SPEC_GET_OR\u63a5\u53e3\u83b7\u53d6button\u7684\u8bbe\u5907\u6811\u914d\u7f6e */\nstatic const struct gpio_dt_spec button = GPIO_DT_SPEC_GET_OR(SW0_NODE, gpios,\n                                  {0});\nstatic struct gpio_callback button_cb_data;\n/* \u901a\u8fc7GPIO_DT_SPEC_GET_OR\u63a5\u53e3\u83b7\u53d6led\u7684\u8bbe\u5907\u6811\u914d\u7f6e */\nstatic struct gpio_dt_spec led = GPIO_DT_SPEC_GET_OR(DT_ALIAS(led0), gpios,\n                             {0});\n\n/* GPIO\u4e2d\u65ad\u5904\u7406 */\nvoid button_pressed(const struct device *dev, struct gpio_callback *cb,\n            uint32_t pins)\n{\n    printk("Button pressed at %" PRIu32 "\\n", k_cycle_get_32());\n}\n\nvoid main(void)\n{\n    int ret;\n\n    if (!device_is_ready(button.port)) {\n        printk("Error: button device %s is not ready\\n",\n                button.port->name);\n        return;\n    }\n\n    /* \u5c06GPIO\u914d\u7f6e\u4e3a\u8f93\u5165 */\n    ret = gpio_pin_configure_dt(&button, GPIO_INPUT);\n    if (ret != 0) {\n        printk("Error %d: failed to configure %s pin %d\\n",\n                ret, button.port->name, button.pin);\n        return;\n    }\n\n    /* \u5c06GPIO\u4e2d\u65ad\u914d\u7f6e\u4e3a\u5f15\u811a\u53d8\u9ad8\u7535\u5e73\u65f6\u89e6\u53d1\u4e2d\u65ad */\n    ret = gpio_pin_interrupt_configure_dt(&button,\n                            GPIO_INT_EDGE_TO_ACTIVE);\n    if (ret != 0) {\n        printk("Error %d: failed to configure interrupt on %s pin %d\\n",\n            ret, button.port->name, button.pin);\n        return;\n    }\n\n    /* \u521d\u59cb\u5316\u4e2d\u65ad\u56de\u8c03 */\n    gpio_init_callback(&button_cb_data, button_pressed, BIT(button.pin));\n    /* \u6ce8\u518c\u56de\u8c03\u4e8b\u4ef6 */\n    gpio_add_callback(button.port, &button_cb_data);\n    printk("Set up button at %s pin %d\\n", button.port->name, button.pin);\n\n    if (led.port && !device_is_ready(led.port)) {\n        printk("Error %d: LED device %s is not ready; ignoring it\\n",\n                ret, led.port->name);\n        led.port = NULL;\n    }\n    if (led.port) {\n        /* \u901a\u8fc7led\u8bbe\u5907\u6811\u914d\u7f6eled\u7684GPIO\u5f15\u811a\u4e3a\u8f93\u51fa */\n        ret = gpio_pin_configure_dt(&led, GPIO_OUTPUT);\n        if (ret != 0) {\n            printk("Error %d: failed to configure LED device %s pin %d\\n",\n                    ret, led.port->name, led.pin);\n            led.port = NULL;\n        } else {\n            printk("Set up LED at %s pin %d\\n", led.port->name, led.pin);\n        }\n    }\n\n    printk("Press the button\\n");\n    /* \u901a\u8fc7\u63a7\u5236LED\u706f\u7684\u4eae\u706d\u6765\u540c\u6b65\u6309\u952e\u7684\u54cd\u5e94 */\n    if (led.port) {\n        while (1) {\n            /* \u83b7\u53d6\u6309\u952e\u7684\u903b\u8f91\u7535\u5e73 */\n            int val = gpio_pin_get_dt(&button);\n  \n            if (val >= 0) {\n                /* \u8bbe\u7f6eLED\u7684\u903b\u8f91\u7535\u5e73\uff0c\u6309\u952e\u6309\u4e0b\u65f6LED\u4eae\uff0c\u5f39\u8d77\u540eLED\u706d */\n                gpio_pin_set_dt(&led, val);\n            }\n            k_msleep(SLEEP_TIME_MS);\n        }\n    }\n}\n\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5b9e\u73b0\u903b\u8f91\u5206\u6790")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"ret = gpio_pin_interrupt_configure_dt(&button,\n                            GPIO_INT_EDGE_TO_ACTIVE\n")),(0,l.kt)("p",null,"\u4ee5\u4e0a\u4ee3\u7801\u6bb5\u901a\u8fc7gpio_pin_interrupt_configure_dt\u63a5\u53e3\u5c06\u6309\u952e\u68c0\u6d4b\u7684GPIO\u914d\u7f6e\u4e3aGPIO_INT_EDGE_TO_ACTIVE\uff0c\u5373\uff1a",(0,l.kt)("br",{parentName:"p"}),"\n","\u5c06GPIO\u4e2d\u65ad\u914d\u7f6e\u4e3a\u5f15\u811a\u53d8\u9ad8\u7535\u5e73\u65f6\u89e6\u53d1\u3002\u672a\u914d\u7f6eGPIO_ACTIVE_LOW\u6216GPIO_ACTIVE_HIGH\uff0c\u5219\u9ed8\u8ba4\u7535\u5e73\u6a21\u5f0f\u4e3aGPIO_ACTIVE_HIGH\uff0c\u903b\u8f91\u7535\u5e73\u548c\u7269\u7406\u7535\u5e73\u4e00\u81f4\u3002"),(0,l.kt)("p",null,"\u4ece\u786c\u4ef6\u7535\u8def\u53ef\u770b\u5230\uff0c\u6309\u952e\u68c0\u6d4bGPIO\u9ed8\u8ba4\u4e3a\u903b\u8f91\u9ad8\u7535\u5e73\uff0c\u5f53\u6309\u952e\u6309\u4e0b\u65f6\u63a5\u5730\uff0cGPIO\u88ab\u62c9\u4f4e\uff0c\u6b64\u65f6gpio_pin_get_dt\u83b7\u53d6\u7684\u6309\u952e\u903b\u8f91\u7535\u5e73\u4e3a0\uff0c\u901a\u8fc7",(0,l.kt)("inlineCode",{parentName:"p"},"gpio_pin_set_dt(&led, val)"),"\u63a5\u53e3\u53ef\u5c06LED\u70b9\u4eae\uff0c\u5f53\u6309\u952e\u677e\u5f00\u65f6\u903b\u8f91\u7535\u5e73\u75310\u53d8\u4e3a1\uff0c\u6309\u7167gpio config\u7684flag\u914d\u7f6e\uff1aGPIO_INT_EDGE_TO_ACTIVE(\u5f15\u811a\u7535\u5e73\u7531\u4f4e\u81f3\u9ad8\u89e6\u53d1\u4e2d\u65ad)\u89e6\u53d1\u4e2d\u65ad\u56de\u8c03button_pressed\uff0c\u5f00\u53d1\u8005\u53ef\u5728\u56de\u8c03\u51fd\u6570\u4e2d\u505a\u76f8\u5e94\u7684\u6309\u952e\u4e8b\u4ef6\u5904\u7406\u3002"),(0,l.kt)("h4",{id:"\u7f16\u8bd1\u548c\u70e7\u5f55-1"},"\u7f16\u8bd1\u548c\u70e7\u5f55"),(0,l.kt)("h5",{id:"\u7f16\u8bd1-1"},"\u7f16\u8bd1"),(0,l.kt)("p",null,"\u5728app\u6839\u76ee\u5f55\u4e0b\u901a\u8fc7\u4ee5\u4e0b\u6307\u4ee4\u5b8c\u6210\u7f16\u8bd1\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"lisa zep build -b csk6011a_nano\n")),(0,l.kt)("h5",{id:"\u70e7\u5f55-1"},"\u70e7\u5f55"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"csk6011a_nano"),"\u901a\u8fc7USB\u8fde\u63a5PC\uff0c\u901a\u8fc7\u70e7\u5f55\u6307\u4ee4\u5f00\u59cb\u70e7\u5f55\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"lisa zep flash --runner pyocd\n")),(0,l.kt)("h5",{id:"\u67e5\u770b\u7ed3\u679c-1"},"\u67e5\u770b\u7ed3\u679c"),(0,l.kt)("h6",{id:"\u67e5\u770b\u4e32\u53e3\u65e5\u5fd7"},"\u67e5\u770b\u4e32\u53e3\u65e5\u5fd7"),(0,l.kt)("p",null,"CSK6-NanoKit\u901a\u8fc7\u677f\u8f7dDAPlink\u865a\u62df\u4e32\u53e3\u8fde\u63a5\u7535\u8111\uff0c\u6216\u8005\u5c06CSK6-NanoKit\u7684\u65e5\u5fd7\u4e32\u53e3",(0,l.kt)("inlineCode",{parentName:"p"},"A03 TX A02 RX"),"\u5916\u63a5\u4e32\u53e3\u677f\u5e76\u8fde\u63a5\u7535\u8111\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5728\u7535\u8111\u7aef\u4f7f\u7528\u4e32\u53e3\u8c03\u8bd5\u52a9\u624b\u67e5\u770b\u65e5\u5fd7\uff0c\u9ed8\u8ba4\u6ce2\u7279\u7387\u4e3a115200\u3002")),(0,l.kt)("p",null,"\u6309\u4e0b\u6309\u952e\u540e\u7684\u65e5\u5fd7\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"*** Booting Zephyr OS build v1.0.3-alpha.1-2-g93840afb5f54  ***\nSet up button at GPIO_B pin 5\nSet up LED at GPIO_A pin 5\nPress the button\nButton pressed at 1339031551\nButton pressed at 1950727163\nButton pressed at 1956531899\nButton pressed at 1962377777\nButton pressed at 1968272822\nButton pressed at 1974199286\n")))}k.isMDXComponent=!0},73405:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/flash-5e8b0d6c780a73c444d93c6bcd490b1c.png"},3803:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/key_pin-c2a13072b577e5d4c6cb88a1f630dd90.png"},19545:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/led_pin-d791e9d86fcd27ebf55349be9eeb0d15.png"}}]);