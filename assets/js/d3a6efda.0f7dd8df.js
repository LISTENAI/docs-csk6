"use strict";(self.webpackChunkls_docs_web=self.webpackChunkls_docs_web||[]).push([[9196],{3905:(e,t,n)=>{n.d(t,{Zo:()=>k,kt:()=>c});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),d=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},k=function(e){var t=d(e.components);return a.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},s=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,k=i(e,["components","mdxType","originalType","parentName"]),s=d(n),c=r,N=s["".concat(o,".").concat(c)]||s[c]||m[c]||l;return n?a.createElement(N,p(p({ref:t},k),{},{components:n})):a.createElement(N,p({ref:t},k))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,p=new Array(l);p[0]=s;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i.mdxType="string"==typeof e?e:r,p[1]=i;for(var d=2;d<l;d++)p[d]=n[d];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}s.displayName="MDXCreateElement"},14328:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>p,default:()=>k,frontMatter:()=>l,metadata:()=>i,toc:()=>o});var a=n(87462),r=(n(67294),n(3905));const l={},p="\u8bbe\u5907\u6811\u6982\u8ff0",i={unversionedId:"chips/600X/build/dts/intro",id:"chips/600X/build/dts/intro",isDocsHomePage:!1,title:"\u8bbe\u5907\u6811\u6982\u8ff0",description:"\u8fd9\u662f\u8bbe\u5907\u6811\u4ee5\u53ca Zephyr \u5982\u4f55\u4f7f\u7528\u5b83\u7684\u6982\u5ff5\u6027\u6982\u8ff0\u3002\u6709\u5173\u5206\u6b65\u6307\u5357\u548c\u793a\u4f8b\uff0c\u8bf7\u53c2\u9605 \u8bbe\u5907\u6811\u64cd\u4f5c\u6307\u5f15 \u3002",source:"@site/docs/chips/600X/build/dts/intro.md",sourceDirName:"chips/600X/build/dts",slug:"/chips/600X/build/dts/intro",permalink:"/docs-csk6/chips/600X/build/dts/intro",version:"current",frontMatter:{},sidebar:"docs/chips/600X",previous:{title:"\u6982\u8ff0",permalink:"/docs-csk6/chips/600X/service/index"},next:{title:"\u7591\u96be\u89e3\u7b54",permalink:"/docs-csk6/chips/600X/build/dts/troubleshooting"}},o=[{value:"\u8bed\u6cd5\u4e0e\u7ed3\u6784",id:"\u8bed\u6cd5\u4e0e\u7ed3\u6784",children:[]},{value:"\u5355\u5143\u5730\u5740\u793a\u4f8b",id:"\u5355\u5143\u5730\u5740\u793a\u4f8b",children:[]},{value:"\u91cd\u8981\u5c5e\u6027",id:"\u91cd\u8981\u5c5e\u6027",children:[]},{value:"\u8bbe\u7f6e\u5c5e\u6027\u503c",id:"\u8bbe\u7f6e\u5c5e\u6027\u503c",children:[]},{value:"\u522b\u540d\uff08 alias \uff09\u4e0e\u88ab\u9009\u4e2d\u7684\u8282\u70b9\uff08 chosen nodes \uff09",id:"\u522b\u540d-alias-\u4e0e\u88ab\u9009\u4e2d\u7684\u8282\u70b9-chosen-nodes-",children:[]},{value:"\u8f93\u5165\u4e0e\u8f93\u51fa\u6587\u4ef6",id:"\u8f93\u5165\u4e0e\u8f93\u51fa\u6587\u4ef6",children:[{value:"\u8f93\u5165\u6587\u4ef6",id:"\u8f93\u5165\u6587\u4ef6",children:[]},{value:"\u8f93\u51fa\u6587\u4ef6",id:"\u8f93\u51fa\u6587\u4ef6",children:[]}]}],d={toc:o};function k(e){let{components:t,...l}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\u8bbe\u5907\u6811\u6982\u8ff0"},"\u8bbe\u5907\u6811\u6982\u8ff0"),(0,r.kt)("a",{id:"\u8bbe\u5907\u6811\u6982\u8ff0"}),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"\u63d0\u793a")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u8fd9\u662f\u8bbe\u5907\u6811\u4ee5\u53ca Zephyr \u5982\u4f55\u4f7f\u7528\u5b83\u7684\u6982\u5ff5\u6027\u6982\u8ff0\u3002\u6709\u5173\u5206\u6b65\u6307\u5357\u548c\u793a\u4f8b\uff0c\u8bf7\u53c2\u9605 ",(0,r.kt)("a",{parentName:"p",href:"/docs-csk6/chips/600X/build/dts/howtos"},"\u8bbe\u5907\u6811\u64cd\u4f5c\u6307\u5f15")," \u3002"))),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"\u8bbe\u5907\u6811")," \u662f\u63cf\u8ff0\u786c\u4ef6\u7684\u5206\u5c42\u6570\u636e\u7ed3\u6784\u3002 ",(0,r.kt)("a",{parentName:"p",href:"https://www.devicetree.org/"},"\u8bbe\u5907\u6811")," \u89c4\u8303\u5b9a\u4e49\u4e86\u5b83\u7684\u6e90\u4ee3\u7801\u548c\u4e8c\u8fdb\u5236\u8868\u793a\u3002 Zephyr \u4f7f\u7528\u8bbe\u5907\u6811\u6765\u63cf\u8ff0\u5176\u652f\u6301\u7684\u677f\u578b\u4e0a\u53ef\u7528\u7684\u786c\u4ef6\uff0c\u4ee5\u53ca\u8be5\u786c\u4ef6\u7684\u521d\u59cb\u914d\u7f6e\u3002"),(0,r.kt)("p",null,"\u6709\u4e24\u79cd\u7c7b\u578b\u7684\u8bbe\u5907\u6811\u8f93\u5165\u6587\u4ef6\uff1a",(0,r.kt)("em",{parentName:"p"},"\u8bbe\u5907\u6811\u6e90\u7801")," \u548c ",(0,r.kt)("em",{parentName:"p"},"\u8bbe\u5907\u6811\u7ed1\u5b9a")," \u3002\u8fd9\u91cc\u7684 ",(0,r.kt)("em",{parentName:"p"},"\u8bbe\u5907\u6811\u6e90\u7801")," \u5373\u8bbe\u5907\u6811\u672c\u8eab\uff1b",(0,r.kt)("em",{parentName:"p"},"\u8bbe\u5907\u6811\u7ed1\u5b9a")," \u5219\u63cf\u8ff0\u4e86\u8bbe\u5907\u6811\u7684\u5185\u5bb9\uff0c\u5305\u62ec\u6570\u636e\u7c7b\u578b\u3002",(0,r.kt)("a",{parentName:"p",href:"/docs-csk6/chips/600X/build/index"},"\u6784\u5efa\u7cfb\u7edf")," \u4f7f\u7528\u8bbe\u5907\u6811\u6e90\u7801\u548c\u7ed1\u5b9a\u6765\u751f\u6210\u4e00\u4e2a C \u5934\u6587\u4ef6\u3002\u8fd9\u4e00\u8fc7\u7a0b\u8ba9\u4f60\u6700\u7ec8\u53ef\u4ee5\u901a\u8fc7 ",(0,r.kt)("inlineCode",{parentName:"p"},"devicetree.h")," API \u83b7\u53d6\u4f60\u8bbe\u5907\u6811\u4e2d\u7684\u4fe1\u606f\u3002"),(0,r.kt)("p",null,"\u8fd9\u662f\u8be5\u6d41\u7a0b\u7684\u6982\u89c8\uff1a"),(0,r.kt)("div",{style:{textAlign:"center"}},(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u8bbe\u5907\u6811\u6784\u5efa\u6d41",src:n(6284).Z})),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"\u8bbe\u5907\u6811\u6784\u5efa\u6d41\u7a0b\u56fe"))),(0,r.kt)("p",null,"\u6240\u6709 Zephyr \u548c\u5e94\u7528\u7a0b\u5e8f\u6e90\u4ee3\u7801\u6587\u4ef6\u90fd\u53ef\u4ee5\u5f15\u5165\u5e76\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"devicetree.h")," \u3002\u8fd9\u5305\u62ec ",(0,r.kt)("a",{parentName:"p",href:"https://docs.zephyrproject.org/latest/kernel/drivers/index.html#device-model-api"},"\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f")," \u3001 ",(0,r.kt)("a",{parentName:"p",href:"/docs-csk6/chips/600X/application/application_development"},"\u5e94\u7528\u7a0b\u5e8f")," \u3001 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.zephyrproject.org/latest/develop/test/index.html#testing"},"\u6d4b\u8bd5")," \u3001\u5185\u6838\u7b49\u3002"),(0,r.kt)("p",null,"\u8be5 API \u672c\u8eab\u57fa\u4e8e C \u5b8f\u3002\u6b64\u7c7b\u5b8f\u540d\u79f0\u90fd\u4ee5 ",(0,r.kt)("inlineCode",{parentName:"p"},"DT_")," \u5f00\u5934\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5982\u679c\u4f60\u5728 Zephyr \u6e90\u7801\u4e2d\u770b\u5230\u4e00\u4e2a\u4ee5 ",(0,r.kt)("inlineCode",{parentName:"p"},"DT_")," \u5f00\u5934\u7684\u5b8f\uff0c\u5b83\u5c31\u53ef\u80fd\u662f\u5b58\u5728\u4e8e ",(0,r.kt)("inlineCode",{parentName:"p"},"devicetree.h")," \u4e2d\u7684\u5b8f\u3002\u751f\u6210\u7684 C \u5934\u6587\u4ef6\u4e5f\u5305\u542b\u4ee5 ",(0,r.kt)("inlineCode",{parentName:"p"},"DT_")," \u5f00\u5934\u7684\u5b8f\uff1b\u4f60\u53ef\u80fd\u4f1a\u5728\u7f16\u8bd1\u5668\u9519\u8bef\u6d88\u606f\u4e2d\u770b\u5230\u8fd9\u4e9b\u5185\u5bb9\u3002\u4f46\u4f60\u603b\u662f\u53ef\u4ee5\u5728\u8fd9\u4e9b\u5b8f\u4e2d\u5206\u8fa8\u51fa\uff0c\u54ea\u4e9b\u662f\u751f\u6210\u7684\u3001\u54ea\u4e9b\u4e0d\u662f\u751f\u6210\u7684\uff1a\u751f\u6210\u7684\u5b8f\u6709\u4e00\u4e9b\u5c0f\u5199\u5b57\u6bcd\uff0c\u800c ",(0,r.kt)("inlineCode",{parentName:"p"},"devicetree.h")," \u5b8f\u540d\u79f0\u5168\u662f\u5927\u5199\u5b57\u6bcd\u3002"),(0,r.kt)("p",null,"\u8bbe\u5907\u6811\u4e2d\u5b9a\u4e49\u7684\u4e00\u4e9b\u4fe1\u606f\u53ef\u901a\u8fc7 ",(0,r.kt)("a",{parentName:"p",href:"/docs-csk6/chips/600X/build/kconfig/index"},"Kconfig")," \u751f\u6210\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"CONFIG_")," \u5b8f\u83b7\u5f97\u3002\u8fd9\u901a\u5e38\u662f\u4e3a\u4e86\u5411\u540e\u517c\u5bb9\uff0c\u56e0\u4e3a Zephyr \u4f7f\u7528 Kconfig \u7684\u65f6\u95f4\u8d85\u8fc7\u4e86\u8bbe\u5907\u6811\uff0c\u5e76\u4e14\u4ecd\u5728\u5c06\u4e00\u4e9b\u4fe1\u606f\u4ece Kconfig \u8f6c\u6362\u4e3a\u8bbe\u5907\u6811\u3002 Zephyr \u8fd8\u5141\u8bb8 Kconfig \u91cd\u5199\u4ece\u8bbe\u5907\u6811\u83b7\u53d6\u7684\u9ed8\u8ba4\u503c\u3002\u5728 Kconfig \u4e2d\u53ef\u901a\u8fc7 ",(0,r.kt)("a",{parentName:"p",href:"../kconfig/preprocessor_functions"},"Kconfig \u51fd\u6570")," \u5f15\u7528\u8bbe\u5907\u6811\u4fe1\u606f\u3002\u6709\u5173\u8bbe\u5907\u6811\u4e0e Kconfig \u7684\u5176\u4ed6\u6bd4\u8f83\uff0c\u8bf7\u53c2\u9605 ",(0,r.kt)("a",{parentName:"p",href:"./dt_vs_kconfig"},"\u8bbe\u5907\u6811 VS Kconfig")," \u3002"),(0,r.kt)("h2",{id:"\u8bed\u6cd5\u4e0e\u7ed3\u6784"},"\u8bed\u6cd5\u4e0e\u7ed3\u6784"),(0,r.kt)("p",null,"\u987e\u540d\u601d\u4e49\uff0c\u8bbe\u5907\u6811\u5c31\u662f\u4e00\u4e2a\u6811\u72b6\u7ed3\u6784\u3002\u8fd9\u4e00\u7ed3\u6784\u7684\u5177\u5907\u53ef\u8bfb\u6027\u7684\u683c\u5f0f\u79f0\u4e3a DTS \u6587\u4ef6\uff08\u7528\u4e8e\u8bbe\u5907\u6811\u6e90\u7801\uff09\uff0c\u8fd9\u4e00\u6587\u4ef6\u683c\u5f0f\u5b9a\u4e49\u5728 ",(0,r.kt)("a",{parentName:"p",href:"https://www.devicetree.org/"},"\u8bbe\u5907\u6811\u89c4\u8303")," \u4e2d\u3002"),(0,r.kt)("p",null,"\u8fd9\u662f\u4e00\u4e2a\u793a\u4f8b DTS \u6587\u4ef6\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-c"},'/dts-v1/;\n\n/ {\n        a-node {\n                subnode_nodelabel: a-sub-node {\n                        foo = <3>;\n                        label = "SUBNODE";\n                };\n        };\n};\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"/dts-v1/;")," \u884c\u8868\u793a\u6587\u4ef6\u7684\u5185\u5bb9\u57fa\u4e8e\u7248\u672c 1 \u7684 DTS \u8bed\u6cd5\uff0c\u5b83\u5df2\u7ecf\u66ff\u6362\u4e86\u73b0\u5728\u5df2\u8fc7\u65f6\u7684\u201c\u7248\u672c 0\u201d\u3002"),(0,r.kt)("p",null,"\u4e0a\u9762\u8fd9\u4e2a\u793a\u4f8b\u4e2d\u7684\u8bbe\u5907\u6811\u6709\u4e09\u4e2a\u8282\u70b9\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u4e00\u4e2a\u6839\u8282\u70b9\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"/")),(0,r.kt)("li",{parentName:"ol"},"\u4e00\u4e2a\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"li"},"a-node")," \u7684\u8282\u70b9\uff0c\u5b83\u662f\u6839\u8282\u70b9\u7684\u5b50\u8282\u70b9"),(0,r.kt)("li",{parentName:"ol"},"\u4e00\u4e2a\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"li"},"a-sub-node")," \u7684\u8282\u70b9\uff0c\u5b83\u662f ",(0,r.kt)("inlineCode",{parentName:"li"},"a-node")," \u7684\u5b50\u8282\u70b9")),(0,r.kt)("a",{id:"node-label"}),(0,r.kt)("p",null,"\u8282\u70b9\u53ef\u4ee5\u88ab\u5206\u914d ",(0,r.kt)("em",{parentName:"p"},"\u8282\u70b9\u6807\u7b7e")," \uff0c\u8fd9\u662f\u552f\u4e00\u7684\u7b80\u5199\u65b9\u5f0f\uff0c\u6807\u7b7e\u53ef\u63d0\u4f9b\u8bbe\u5907\u6811\u4e2d\u5176\u4ed6\u5730\u65b9\u5f15\u7528\u8be5\u8282\u70b9\u3002\u4e0a\u6587\u4e2d\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"a-sub-node")," \u7684 ",(0,r.kt)("em",{parentName:"p"},"\u8282\u70b9\u6807\u7b7e")," \u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"subnode_nodelabel")," \u3002\u4e00\u4e2a\u8282\u70b9\u53ef\u4ee5\u6709\u96f6\u4e2a\u3001\u4e00\u4e2a\u6216\u591a\u4e2a ",(0,r.kt)("em",{parentName:"p"},"\u8282\u70b9\u6807\u7b7e"),"\u3002"),(0,r.kt)("p",null,"\u8bbe\u5907\u6811\u8282\u70b9\u7684\u8def\u5f84\u7528\u4e8e\u6807\u8bc6\u5b83\u4eec\u5728\u6811\u4e2d\u4f4d\u7f6e\u3002\u4e0e Unix \u6587\u4ef6\u7cfb\u7edf\u8def\u5f84\u4e00\u6837\uff0c\u8bbe\u5907\u6811\u8def\u5f84\u662f\u7531\u659c\u6760 ( ",(0,r.kt)("inlineCode",{parentName:"p"},"/")," ) \u5206\u9694\u7684\u5b57\u7b26\u4e32\uff0c\u6839\u8282\u70b9\u7684\u8def\u5f84\u662f\u5355\u4e2a\u659c\u6760\uff1a ",(0,r.kt)("inlineCode",{parentName:"p"},"/")," \u3002\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a\u8282\u70b9\u7684\u8def\u5f84\u662f\u901a\u8fc7\u5c06\u5404\u4e2a\u7236\u8282\u70b9\u540d\u79f0\u4e0e\u81ea\u8eab\u7684\u540d\u79f0\u8fde\u63a5\u8d77\u6765\u5f62\u6210\u7684\uff0c\u7528\u659c\u6760\u5206\u9694\u3002\u4f8b\u5982\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"a-sub-node")," \u7684\u5b8c\u6574\u8def\u5f84\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"/a-node/a-sub-node")," \u3002"),(0,r.kt)("p",null,"\u8bbe\u5907\u8282\u70b9\u4e5f\u53ef\u4ee5\u5177\u6709\u5c5e\u6027\u3002\u5c5e\u6027\u662f\u540d\u79f0/\u503c\u5bf9\uff08\u5373\u6bcf\u4e2a\u5c5e\u6027\u9700\u8981\u5305\u542b\u4e00\u4e2a\u540d\u79f0\uff0c\u4e14\u6709\u4e00\u4e2a\u4e0e\u4e4b\u5bf9\u5e94\u7684\u503c\uff09\u3002\u5c5e\u6027\u7684\u503c\u53ef\u4ee5\u662f\u4efb\u4f55\u5b57\u8282\u5e8f\u5217\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e9b\u503c\u662f\u79f0\u4e4b\u4e3a ",(0,r.kt)("em",{parentName:"p"},"\u5355\u5143\u683c( cell )")," \u7684\u6570\u7ec4\u3002\u4e00\u4e2a\u5355\u5143\u683c\u53ea\u662f\u4e00\u4e2a 32 \u4f4d\u65e0\u7b26\u53f7\u6574\u6570\u3002"),(0,r.kt)("p",null,"\u8282\u70b9 ",(0,r.kt)("inlineCode",{parentName:"p"},"a-sub-node")," \u6709\u4e00\u4e2a\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"foo")," \u7684\u5c5e\u6027\uff0c\u5176\u503c\u4e3a\u503c\u4e3a 3 \u7684\u5355\u5143\u683c\u3002 foo \u503c\u7684\u5927\u5c0f\u548c\u7c7b\u578b\u7531 DTS \u4e2d\u7684\u5c01\u95ed\u5c16\u62ec\u53f7\uff08 ",(0,r.kt)("inlineCode",{parentName:"p"},"<")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},">")," \uff09\u9690\u542b\u3002"),(0,r.kt)("p",null,"\u53c2\u9605\u4e0b\u6587\u7684 ",(0,r.kt)("a",{parentName:"p",href:"#%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7%E5%80%BC"},"\u8bbe\u7f6e\u5c5e\u6027\u503c")," \u67e5\u770b\u66f4\u591a\u5c5e\u6027\u503c\u7684\u4f8b\u5b50\u3002"),(0,r.kt)("p",null,"\u5728\u5b9e\u8df5\u4e2d\uff0c\u8bbe\u5907\u6811\u8282\u70b9\u901a\u5e38\u5bf9\u5e94\u4e00\u4e9b\u786c\u4ef6\uff0c\u8282\u70b9\u5c42\u7ea7\u53cd\u6620\u4e86\u786c\u4ef6\u7684\u7269\u7406\u5e03\u5c40\u3002\u5047\u8bbe\u4e00\u4e2a\u5f00\u53d1\u677f\uff0c\u5305\u542b\u4e09\u4e2a I2C \u5916\u8bbe\uff0c\u4e14\u8fd9\u4e9b\u5916\u8bbe\u8fde\u63a5\u5230 SoC \u4e0a\u7684 I2C \u603b\u7ebf\u63a7\u5236\u5668\uff0c\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(61807).Z})),(0,r.kt)("p",null,"\u5bf9\u5e94\u5230 I2C \u603b\u7ebf\u63a7\u5236\u5668\u548c\u6bcf\u4e2a I2C \u5916\u56f4\u8bbe\u5907\u7684\u8282\u70b9\u5c06\u51fa\u73b0\u5728\u8bbe\u5907\u6811\u4e2d\u3002\u4e3a\u4e86\u53cd\u6620\u786c\u4ef6\u5e03\u5c40\uff0cI2C \u5916\u8bbe\u8282\u70b9\u5c06\u662f\u603b\u7ebf\u63a7\u5236\u5668\u8282\u70b9\u7684\u5b50\u8282\u70b9\u3002\u5176\u4ed6\u7c7b\u578b\u786c\u4ef6\u7684\u8868\u793a\u4e5f\u5b58\u5728\u7c7b\u4f3c\u7ea6\u5b9a\u3002"),(0,r.kt)("p",null,"DTS \u6587\u4ef6\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-c"},"/dts-v1/;\n/ {\n        soc {\n                i2c-bus-controller {\n                        i2c-peripheral-1 {\n                        };\n                        i2c-peripheral-2 {\n                        };\n                        i2c-peripheral-3 {\n                        };\n                };\n        };\n};\n")),(0,r.kt)("p",null,"\u5c5e\u6027\u5728\u5b9e\u8df5\u4e2d\u7528\u4e8e\u63cf\u8ff0\u6216\u914d\u7f6e\u8282\u70b9\u6240\u4ee3\u8868\u7684\u786c\u4ef6\u3002\u4f8b\u5982\uff0cI2C \u5916\u8bbe\u7684\u8282\u70b9\u6709\u4e00\u4e2a\u5c5e\u6027\uff0c\u5176\u503c\u4e3a\u5916\u8bbe\u5728\u603b\u7ebf\u4e0a\u7684\u5730\u5740\u3002"),(0,r.kt)("p",null,"\u4e0b\u65b9\u662f\u4ee3\u8868\u76f8\u540c\u5c42\u7ea7\u7684\u793a\u4f8b\u6811\u7684\u793a\u610f\u56fe\uff0c\u4f46\u5177\u6709\u771f\u5b9e\u7684\u8282\u70b9\u540d\u79f0\u548c\u5c5e\u6027\uff0c\u4f60\u5728\u4f7f\u7528 I2C \u8bbe\u5907\u65f6\u53ef\u80fd\u4f1a\u770b\u5230\u3002"),(0,r.kt)("div",{style:{textAlign:"center"}},(0,r.kt)("p",null,(0,r.kt)("img",{src:n(53794).Z})),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"\u5177\u6709\u771f\u5b9e\u7684\u540d\u79f0\u53ca\u5c5e\u6027\u7684 I2C \u8bbe\u5907\u6811\u793a\u4f8b\u3002\u8282\u70b9\u540d\u79f0\u4f4d\u4e8e\u6bcf\u4e2a\u8282\u70b9\u7684\u9876\u200b\u200b\u90e8\u4e2d\u80cc\u666f\u4e3a\u7070\u8272\u7684\u90e8\u5206\u3002\u5c5e\u6027\u5728\u4e0b\u65b9\u663e\u793a\u4e3a\u201cname=value\u201d"))),(0,r.kt)("p",null,"\u8fd9\u662f\u5b83\u5bf9\u5e94\u7684 DTS \u6587\u4ef6\u5185\u5bb9\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-c"},'/dts-v1/;\n/ {\n        soc {\n                i2c@40003000 {\n                        compatible = "nordic,nrf-twim";\n                        label = "I2C_0";\n                        reg = <0x40003000 0x1000>;\n\n                        apds9960@39 {\n                                compatible = "avago,apds9960";\n                                label = "APDS9960";\n                                reg = <0x39>;\n                        };\n                        ti_hdc@43 {\n                                compatible = "ti,hdc", "ti,hdc1010";\n                                label = "HDC1010";\n                                reg = <0x43>;\n                        };\n                        mma8652fc@1d {\n                                compatible = "nxp,fxos8700", "nxp,mma8652fc";\n                                label = "MMA8652FC";\n                                reg = <0x1d>;\n                        };\n                };\n        };\n};\n')),(0,r.kt)("p",null,"\u9664\u4e86\u663e\u793a\u66f4\u771f\u5b9e\u7684\u540d\u79f0\u548c\u5c5e\u6027\u4e4b\u5916\uff0c\u4e0a\u9762\u7684\u793a\u4f8b\u8fd8\u5f15\u5165\u4e86\u4e00\u4e2a\u65b0\u7684\u8bbe\u5907\u6811\u6982\u5ff5\uff1a\u5355\u5143\u5730\u5740\u3002\u5355\u5143\u5730\u5740\u662f\u8282\u70b9\u540d\u79f0\u4e2d\u201cat\u201d\u7b26\u53f7 ( ",(0,r.kt)("inlineCode",{parentName:"p"},"@")," ) \u4e4b\u540e\u7684\u90e8\u5206\uff0c\u5982 ",(0,r.kt)("inlineCode",{parentName:"p"},"i2c@40003000")," \u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"40003000")," \u6216 ",(0,r.kt)("inlineCode",{parentName:"p"},"apds9960@39")," \u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"39")," \u3002\u5355\u5143\u5730\u5740\u662f\u53ef\u9009\u7684\uff1a\u4f8b\u5982\u4e0a\u65b9\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"soc")," \u8282\u70b9\u5c31\u6ca1\u6709\u3002"),(0,r.kt)("p",null,"\u4e00\u4e9b\u66f4\u8be6\u7ec6\u7684\u3001\u6709\u5173\u5355\u5143\u5730\u5740\u548c\u91cd\u8981\u5c5e\u6027\u7684\u4fe1\u606f\u5728\u4e0b\u6587\u63cf\u8ff0\u3002"),(0,r.kt)("h2",{id:"\u5355\u5143\u5730\u5740\u793a\u4f8b"},"\u5355\u5143\u5730\u5740\u793a\u4f8b"),(0,r.kt)("p",null,"\u5728\u8bbe\u5907\u6811\u4e2d\uff0c\u5355\u5143\u5730\u5740\u8868\u793a\u4e86\u4e00\u4e2a\u8282\u70b9\u5728\u5176\u7236\u8282\u70b9\u5730\u5740\u7a7a\u95f4\u4e2d\u7684\u5730\u5740\u3002\u4ee5\u4e0b\u662f\u4e0d\u540c\u7c7b\u578b\u786c\u4ef6\u7684\u4e00\u4e9b\u793a\u4f8b\u5355\u5143\u5730\u5740\u3002"),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},"\u5185\u5b58\u6620\u5c04\u5916\u8bbe"),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u5916\u8bbe\u7684\u5bc4\u5b58\u5668\u6620\u5c04\u8d77\u59cb\u5730\u5740\u3002\u4f8b\u5982\uff0c\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"i2c@40003000")," \u7684\u8282\u70b9\u8868\u793a\u4e00\u4e2a\u5bc4\u5b58\u5668\u6620\u5c04\u8d77\u59cb\u5730\u5740\u4e3a 0x40003000 \u7684 I2C \u63a7\u5236\u5668\u3002")),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},"I2C \u5916\u8bbe"),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"I2C \u603b\u7ebf\u4e0a\u7684\u5916\u8bbe\u5730\u5740\u3002\u6bd4\u5982\u4e0a\u4e00\u8282\u4e2d\uff0c I2C \u63a7\u5236\u5668\u7684\u5b50\u8282\u70b9 ",(0,r.kt)("inlineCode",{parentName:"p"},"apds9960@39")," \u7684 I2C \u5730\u5740\u4e3a 0x39 \u3002")),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},"SPI \u5916\u8bbe"),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u8868\u793a\u5916\u8bbe\u7684\u7247\u9009\u884c\u53f7\u7684\u7d22\u5f15\u3002 \uff08\u5982\u679c\u6ca1\u6709\u7247\u9009\u884c\uff0c\u5219\u4f7f\u7528 0 \u3002\uff09")),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},"\u5185\u5b58"),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u7269\u7406\u8d77\u59cb\u5730\u5740\u3002\u4f8b\u5982\uff0c\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"memory@2000000")," \u7684\u8282\u70b9\u8868\u793a\u4ece\u7269\u7406\u5730\u5740 0x2000000 \u5f00\u59cb\u7684 RAM \u3002")),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},"\u5185\u5b58\u6620\u5c04\u95ea\u5b58"),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u4e0e RAM \u4e00\u6837\uff0c\u662f\u7269\u7406\u8d77\u59cb\u5730\u5740\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"flash@8000000")," \u7684\u8282\u70b9\u4ee3\u8868\u4e00\u4e2a\u7269\u7406\u8d77\u59cb\u5730\u5740\u4e3a 0x8000000 \u7684 flash \u8bbe\u5907\u3002")),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},"\u56fa\u5b9a\u95ea\u5b58\u5206\u533a"),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u8fd9\u9002\u7528\u4e8e\u8bbe\u5907\u6811\u7528\u4e8e\u5b58\u50a8\u95ea\u5b58\u5206\u533a\u8868\u7684\u60c5\u51b5\u3002\u5355\u5143\u5730\u5740\u662f\u5206\u533a\u5728\u95ea\u5b58\u4e2d\u7684\u8d77\u59cb\u504f\u79fb\u91cf\u3002\u4f8b\u5982\uff0c\u4ee5\u6b64\u95ea\u5b58\u8bbe\u5907\u53ca\u5176\u5206\u533a\u4e3a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-c"},"flash@8000000 {\n    /* ... */\n    partitions {\n            partition@0 { /* ... */ };\n            partition@20000 {  /* ... */ };\n            /* ... */\n    };\n};\n")),(0,r.kt)("p",null,"\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"partition@0")," \u7684\u8282\u70b9\u4ece\u5176\u95ea\u5b58\u8bbe\u5907\u7684\u5f00\u59cb\u504f\u79fb\u91cf\u4e3a 0\uff0c\u56e0\u6b64\u5176\u8d77\u59cb\u5730\u5740\u4e3a 0x8000000 \u3002\u540c\u6837\uff0c\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"partition@20000")," \u7684\u8282\u70b9\u7684\u57fa\u5730\u5740\u4e3a 0x8020000 \u3002")),(0,r.kt)("h2",{id:"\u91cd\u8981\u5c5e\u6027"},"\u91cd\u8981\u5c5e\u6027"),(0,r.kt)("p",null,"\u4e00\u4e9b\u91cd\u8981\u7684\u5c5e\u6027\u662f\uff1a"),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},"compatible"),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u8282\u70b9\u4ee3\u8868\u7684\u786c\u4ef6\u8bbe\u5907\u7684\u540d\u79f0\u3002"),(0,r.kt)("p",null,"\u63a8\u8350\u7684\u683c\u5f0f\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},'"vendor,device"')," \uff0c\u5982 ",(0,r.kt)("inlineCode",{parentName:"p"},'"avago,apds9960"')," \uff0c\u6216\u4ee5\u6b64\u683c\u5f0f\u62fc\u63a5\u7684\u5e8f\u5217\uff0c\u5982 ",(0,r.kt)("inlineCode",{parentName:"p"},'"ti,hdc", "ti,hdc1010"')," \u3002 ",(0,r.kt)("inlineCode",{parentName:"p"},"vendor")," \u90e8\u5206\u662f\u4f9b\u5e94\u5546\u7684\u7f29\u5199\u540d\u79f0\u3002\u6587\u4ef6 ",(0,r.kt)("a",{parentName:"p",href:"https://cloud.listenai.com/zephyr/zephyr/-/blob/master/dts/bindings/vendor-prefixes.txt"},"dts/bindings/vendor-prefixes.txt")," \u5305\u542b\u4e00\u4e2a\u666e\u904d\u63a5\u53d7\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"vendor")," \u540d\u79f0\u5217\u8868\u3002 ",(0,r.kt)("inlineCode",{parentName:"p"},"device")," \u90e8\u5206\u901a\u5e38\u53d6\u81ea\u8bbe\u5907 datasheet \u3002"),(0,r.kt)("p",null,"\u5f53\u786c\u4ef6\u884c\u4e3a\u662f\u901a\u7528\u7684\u65f6\u5019\uff0c\u8fd9\u4e00\u503c\u4e5f\u53ef\u4f7f\u7528\u5982 ",(0,r.kt)("inlineCode",{parentName:"p"},"gpio-keys")," \u3001 ",(0,r.kt)("inlineCode",{parentName:"p"},"mmio-sram")," \u3001 ",(0,r.kt)("inlineCode",{parentName:"p"},"fixed-clock")," \u4e4b\u7c7b\u7684\u76f4\u63a5\u63cf\u8ff0\u884c\u4e3a\u7684\u8bcd\u8bed\u3002"),(0,r.kt)("p",null,"\u6784\u5efa\u7cfb\u7edf\u4f7f\u7528 compatible \u5c5e\u6027\u4e3a\u8282\u70b9\u627e\u5230\u6b63\u786e\u7684",(0,r.kt)("a",{parentName:"p",href:"/docs-csk6/chips/600X/build/dts/bindings"},"\u7ed1\u5b9a"),"\u3002\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"devicetree.h")," \u6765\u67e5\u627e\u5177\u6709\u5bf9\u5e94 compatible \u7684\u8282\u70b9\uff0c\u4f9d\u6b21\u786e\u5b9a\u8981\u7ba1\u7406\u7684\u786c\u4ef6\u4e2d\u54ea\u4e9b\u662f\u53ef\u7528\u7684\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"compatible")," \u5c5e\u6027\u5141\u8bb8\u6709\u591a\u4e2a\u503c\u3002\u5f53\u8bbe\u5907\u662f\u66f4\u901a\u7528\u7cfb\u5217\u7684\u7279\u5b9a\u5b9e\u4f8b\u65f6\uff0c\u589e\u52a0 ",(0,r.kt)("inlineCode",{parentName:"p"},"compatible")," \u5c5e\u6027\u503c\u5f88\u6709\u7528\uff0c\u8fd9\u6837\u7cfb\u7edf\u53ef\u4ee5\u4ece\u6700\u5177\u4f53\u5230\u6700\u4e0d\u5177\u4f53\u7684\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u8fdb\u884c\u5339\u914d\u3002"),(0,r.kt)("p",null,"\u5728 Zephyr \u7684\u7ed1\u5b9a\u8bed\u6cd5\u4e2d\uff0c\u6b64\u5c5e\u6027\u7684\u7c7b\u578b\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4 ",(0,r.kt)("inlineCode",{parentName:"p"},"string-array")," \u3002")),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},"label"),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u8bbe\u5907\u7684\u540d\u79f0\uff0c\u6839\u636e Zephyr \u7684 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.zephyrproject.org/latest/kernel/drivers/index.html#device-model-api"},"\u8bbe\u5907\u9a71\u52a8\u6a21\u578b")," \u786e\u5b9a\u3002\u8be5\u503c\u53ef\u4ee5\u4f20\u7ed9 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.zephyrproject.org/latest/kernel/drivers/index.html#c.device_get_binding"},(0,r.kt)("inlineCode",{parentName:"a"},"device_get_binding()"))," \u4ee5\u67e5\u627e\u5bf9\u5e94\u7684\u9a71\u52a8\u7a0b\u5e8f\u7ea7 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.zephyrproject.org/latest/kernel/drivers/index.html#device-struct"},"struct device*")," \u6307\u9488\u3002\u7136\u540e\uff0c\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u901a\u8fc7\u5c06\u6b64\u6307\u9488\u4f20\u7ed9\u6b63\u786e\u7684\u9a71\u52a8\u7a0b\u5e8f API \uff0c\u4ece\u800c\u4e0e\u8bbe\u5907\u4ea4\u4e92\u3002\u4f8b\u5982\uff0c\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},'device_get_binding("I2C_0")')," \u5c06\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u8bbe\u5907\u7ed3\u6784\u4f53\u7684\u6307\u9488\uff0c\u5b83\u53ef\u4ee5\u4f20\u7ed9 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.zephyrproject.org/latest/hardware/peripherals/i2c.html#i2c-api"},"I2C \u7684 API")," \u51fd\u6570\uff0c\u5982 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.zephyrproject.org/latest/hardware/peripherals/i2c.html#c.i2c_transfer"},(0,r.kt)("inlineCode",{parentName:"a"},"i2c_transfer()"))," \u3002\u751f\u6210\u7684 C \u5934\u6587\u4ef6\u8fd8\u5c06\u5305\u542b\u4e00\u4e2a\u53ef\u5c55\u5f00\u4e3a\u6b64\u5b57\u7b26\u4e32\u7684\u5b8f\u3002"),(0,r.kt)("p",null,"\u8bf7\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"label")," \u5c5e\u6027\u4e0e\u4e0a\u6587\u7684 ",(0,r.kt)("a",{parentName:"p",href:"#node-label"},"\u8282\u70b9\u6807\u7b7e")," \u5e76\u4e0d\u540c\u3002")),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},"reg"),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u7528\u4e8e\u5bf9\u8bbe\u5907\u5bfb\u5740\u7684\u4fe1\u606f\u3002\u8be5\u503c\u7279\u5b9a\u4e8e\u8bbe\u5907\uff08\u5373\u53d6\u51b3\u4e8e compatible \u5c5e\u6027\u800c\u6709\u6240\u4e0d\u540c\uff09\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"reg")," \u5c5e\u6027\u662f\u82e5\u5e72\u7ec4 ",(0,r.kt)("inlineCode",{parentName:"p"},"(address, length)")," \u7684\u5e8f\u5217\u3002\u6bcf\u4e00\u7ec4\u79f0\u4e3a\u201c\u5bc4\u5b58\u5668\u5757\u201d\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u6a21\u5f0f\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u901a\u8fc7\u5185\u5b58\u6620\u5c04 I/O \u5bc4\u5b58\u5668\u8bbf\u95ee\u7684\u8bbe\u5907\uff08\u5982 ",(0,r.kt)("inlineCode",{parentName:"p"},"i2c@40003000")," \uff09\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"address")," \u901a\u5e38\u8868\u793a I/O \u5bc4\u5b58\u5668\u7a7a\u95f4\u7684\u57fa\u5730\u5740\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"length")," \u8868\u793a\u5bc4\u5b58\u5668\u5360\u7528\u7684\u5b57\u8282\u6570\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"I2C \u8bbe\u5907\uff08\u5982 ",(0,r.kt)("inlineCode",{parentName:"p"},"apds9960@39")," \u53ca\u5176\u540c\u7ea7\u8bbe\u5907\uff09\uff1a ",(0,r.kt)("inlineCode",{parentName:"p"},"address")," \u8868\u793a I2C \u603b\u7ebf\u4e0a\u7684\u4ece\u673a\u5730\u5740\u3002\u6ca1\u6709 ",(0,r.kt)("inlineCode",{parentName:"p"},"length")," \u503c\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"SPI\u8bbe\u5907\uff1a ",(0,r.kt)("inlineCode",{parentName:"p"},"address")," \u8868\u793a\u7247\u9009\u7ebf\u53f7\uff1b\u6ca1\u6709 ",(0,r.kt)("inlineCode",{parentName:"p"},"length")," \u503c\u3002"))),(0,r.kt)("p",null,"You may notice some similarities between the ",(0,r.kt)("inlineCode",{parentName:"p"},"reg")," property and common unit addresses described above. This is not a coincidence. The ",(0,r.kt)("inlineCode",{parentName:"p"},"reg")," property can be seen as a more detailed view of the addressable resources within a device than its unit address."),(0,r.kt)("p",null,"\u4f60\u53ef\u80fd\u4f1a\u6ce8\u610f\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"reg")," \u5c5e\u6027\u548c\u4e0a\u9762\u63cf\u8ff0\u901a\u7528\u7684\u5355\u5143\u5730\u5740\u4e4b\u95f4\u7684\u4e00\u4e9b\u76f8\u4f3c\u4e4b\u5904\u3002\u8fd9\u5e76\u4e0d\u662f\u5de7\u5408\u3002 ",(0,r.kt)("inlineCode",{parentName:"p"},"reg")," \u5c5e\u6027\u53ef\u4ee5\u770b\u4f5c\u662f\u8bbe\u5907\u5185\u6bd4\u5176\u5355\u5143\u5730\u5740\u66f4\u8be6\u7ec6\u7684\u53ef\u5bfb\u5740\u8d44\u6e90\u7684\u89c6\u56fe\u3002")),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},"status"),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u63cf\u8ff0\u8282\u70b9\u662f\u5426\u542f\u7528\u7684\u5b57\u7b26\u4e32\u3002"),(0,r.kt)("p",null,"\u8bbe\u5907\u6811\u89c4\u8303\u4e2d\u89c4\u5b9a\u4e86\u8be5\u5c5e\u6027\u7684\u503c\u53ef\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},'"okay"')," \u3001 ",(0,r.kt)("inlineCode",{parentName:"p"},'"disabled"')," \u3001 ",(0,r.kt)("inlineCode",{parentName:"p"},'"reserved"')," \u3001 ",(0,r.kt)("inlineCode",{parentName:"p"},'"fail"')," \u6216 ",(0,r.kt)("inlineCode",{parentName:"p"},'"fail-sss"')," \u4e2d\u7684\u4e00\u4e2a\u3002\u76ee\u524d\u53ea\u6709 ",(0,r.kt)("inlineCode",{parentName:"p"},'"okay"')," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},'"disabled"')," \u4e0e Zephyr \u76f8\u5173\uff1b\u4f7f\u7528\u5176\u4ed6\u503c\u5f53\u524d\u4f1a\u5bfc\u81f4\u672a\u5b9a\u4e49\u7684\u884c\u4e3a\u3002"),(0,r.kt)("p",null,"\u5982\u679c\u8282\u70b9\u7684\u72b6\u6001\u5c5e\u6027\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},'"okay"')," \u6216\u672a\u5b9a\u4e49\uff08\u4f8b\u5982\u5728\u8bbe\u5907\u6811\u6e90\u7801\u4e2d\u4e0d\u5b58\u5728\uff09\uff0c\u5219\u8ba4\u4e3a\u8282\u70b9\u5df2\u542f\u7528\u3002\u72b6\u6001\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},'"disabled"')," \u7684\u8282\u70b9\u88ab\u663e\u5f0f\u7981\u7528\u3002 \uff08\u4e3a\u4e86\u5411\u540e\u517c\u5bb9\uff0c\u5c5e\u6027\u503c ",(0,r.kt)("inlineCode",{parentName:"p"},'"ok"')," \u88ab\u89c6\u4e3a\u4e0e ",(0,r.kt)("inlineCode",{parentName:"p"},'"okay"')," \u76f8\u540c\uff0c\u4f46\u4e0d\u63a8\u8350\u4f7f\u7528\u8fd9\u79cd\u7528\u6cd5\u3002\uff09\u5fc5\u987b\u542f\u7528\u5bf9\u5e94\u4e8e\u7269\u7406\u8bbe\u5907\u7684\u8bbe\u5907\u6811\u8282\u70b9\uff0c\u624d\u80fd\u5206\u914d\u5e76\u521d\u59cb\u5316 Zephyr \u9a71\u52a8\u7a0b\u5e8f\u6a21\u578b\u4e2d\u7684\u76f8\u5e94\u7684\u7ed3\u6784\u4f53\u7c7b\u578b ",(0,r.kt)("inlineCode",{parentName:"p"},"struct device")," \u3002")),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},"interrupts"),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u8bbe\u5907\u751f\u6210\u7684\u4e2d\u65ad\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u7f16\u7801\u4e3a\u4e00\u4e2a\u6216\u591a\u4e2a ",(0,r.kt)("em",{parentName:"p"},"\u4e2d\u65ad\u8bf4\u660e\u7b26")," \u7684\u6570\u7ec4\u3002\u6bcf\u4e2a\u4e2d\u65ad\u8bf4\u660e\u7b26\u90fd\u5305\u542b\u4e00\u4e9b\u5355\u5143\u683c\u3002\u82e5\u9700\u8981\u4e86\u89e3\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 ",(0,r.kt)("a",{parentName:"p",href:"https://www.devicetree.org/specifications/"},"\u8bbe\u5907\u6811\u89c4\u8303 v0.3")," \u4e2d\u7684\u7b2c 2.4 \u8282\uff0c",(0,r.kt)("em",{parentName:"p"},"\u300a\u4e2d\u65ad\u548c\u4e2d\u65ad\u6620\u5c04 Interrupts and Interrupt Mapping \u300b"),"\u3002")),(0,r.kt)("h2",{id:"\u8bbe\u7f6e\u5c5e\u6027\u503c"},"\u8bbe\u7f6e\u5c5e\u6027\u503c"),(0,r.kt)("p",null,"\u672c\u8282\u4ecb\u7ecd\u5982\u4f55\u4ee5 DTS \u683c\u5f0f\u8bed\u6cd5\u5199\u5165\u5c5e\u6027\u503c\u3002\u4e0b\u8868\u4e2d\u7684\u5c5e\u6027\u7c7b\u578b\u5728 ",(0,r.kt)("a",{parentName:"p",href:"/docs-csk6/chips/600X/build/dts/bindings"},"\u8bbe\u5907\u6811\u7ed1\u5b9a")," \u4e2d\u8fdb\u884c\u4e86\u8be6\u7ec6\u63cf\u8ff0\u3002"),(0,r.kt)("p",null,"\u4e3a\u4e86\u7b80\u5355\u8d77\u89c1\uff0c\u4e0b\u6587\u5c06\u7565\u8fc7\u4e00\u4e9b\u7ec6\u8282\uff1b\u5982\u679c\u4f60\u5bf9\u5176\u4e2d\u7684\u7ec6\u8282\u611f\u5174\u8da3\uff0c\u53ef\u53c2\u9605\u8bbe\u5907\u6811\u89c4\u8303\u3002"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u5c5e\u6027\u7c7b\u578b"),(0,r.kt)("th",{parentName:"tr",align:null},"\u5982\u4f55\u8bbe\u7f6e"),(0,r.kt)("th",{parentName:"tr",align:null},"\u793a\u4f8b"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"\u53cc\u5f15\u53f7"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'a-string = "hello,world!";'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7528\u5c16\u62ec\u53f7\u62ec\u8d77\uff08 ",(0,r.kt)("inlineCode",{parentName:"td"},"<")," \u548c ",(0,r.kt)("inlineCode",{parentName:"td"},">")," \uff09"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"an-int = <1>;"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5bf9 ",(0,r.kt)("inlineCode",{parentName:"td"},"true")," \u4ee5\u65e0\u5c5e\u6027\u503c\u5f62\u5f0f\u58f0\u660e\uff08\u5bf9 ",(0,r.kt)("inlineCode",{parentName:"td"},"false")," \u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"td"},"/delete-property/")," \u58f0\u660e\uff09"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"my-true-boolean;"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"array"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7528\u5c16\u62ec\u53f7\u62ec\u8d77\uff08 ",(0,r.kt)("inlineCode",{parentName:"td"},"<")," \u548c ",(0,r.kt)("inlineCode",{parentName:"td"},">")," \uff09\uff0c\u7528\u7a7a\u683c\u9694\u5f00"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"foo = <0xdeadbeef 1234 0>;"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"uint8-array"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("em",{parentName:"td"},"\u4e0d\u4ee5")," ",(0,r.kt)("inlineCode",{parentName:"td"},"0x")," \u5f00\u5934\u7684\u5341\u516d\u8fdb\u5236\u8868\u793a\u3002\u7528\u65b9\u62ec\u53f7\uff08",(0,r.kt)("inlineCode",{parentName:"td"},"[")," \u548c ",(0,r.kt)("inlineCode",{parentName:"td"},"]"),"\uff09\u62ec\u8d77\u3002"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"a-byte-array = [00 01 ab];"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"string-array"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7528\u9017\u53f7\u9694\u5f00"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'a-string-array = "string one", "string two", "string three";'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"phandle"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7528\u5c16\u62ec\u53f7\u62ec\u8d77\uff08 ",(0,r.kt)("inlineCode",{parentName:"td"},"<")," \u548c ",(0,r.kt)("inlineCode",{parentName:"td"},">")," \uff09"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"a-phandle = <&mynode>;"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"phandles"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7528\u5c16\u62ec\u53f7\u62ec\u8d77\uff08 ",(0,r.kt)("inlineCode",{parentName:"td"},"<")," \u548c ",(0,r.kt)("inlineCode",{parentName:"td"},">")," \uff09\uff0c\u7528\u7a7a\u683c\u9694\u5f00"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"some-phandles = <&mynode0 &mynode1 &mynode2>;"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"phandle-array"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7528\u5c16\u62ec\u53f7\u62ec\u8d77\uff08 ",(0,r.kt)("inlineCode",{parentName:"td"},"<")," \u548c ",(0,r.kt)("inlineCode",{parentName:"td"},">")," \uff09\uff0c\u7528\u7a7a\u683c\u9694\u5f00"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"a-phandle-array = <&mynode0 1 2 &mynode1 3 4>;"))))),(0,r.kt)("p",null,"\u5bf9\u4e0a\u8868\u7684\u8865\u5145\u8bf4\u660e\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5982\u679c\u5b58\u5728\u5e03\u5c14\u5c5e\u6027\uff0c\u5219\u4e3a true \u3002\u5b83\u4eec\u4e0d\u5e94\u8be5\u6709\u503c\u3002\u5e03\u5c14\u5c5e\u6027\u53ea\u6709\u5728 DTS \u4e2d\u5b8c\u5168\u4e0d\u5b58\u5728\u65f6\u624d\u4e3a false \u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e0a\u8868 array \u793a\u4f8b\u4e2d\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"foo")," \u5c5e\u6027\u503c\u5177\u6709\u4e09\u4e2a ",(0,r.kt)("em",{parentName:"p"},"\u5355\u5143\u683c")," \uff0c\u5176\u503c\u4f9d\u6b21\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"0xdeadbeef")," \u3001 ",(0,r.kt)("inlineCode",{parentName:"p"},"1234")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"0")," \u3002\u8bf7\u6ce8\u610f\uff0c\u5341\u516d\u8fdb\u5236\u548c\u5341\u8fdb\u5236\u6570\u5b57\u662f\u5141\u8bb8\u88ab\u4f7f\u7528\u3001\u4e14\u53ef\u4ee5\u6df7\u5408\u4f7f\u7528\u7684\u3002\u7531\u4e8e Zephyr \u6700\u7ec8\u5c06 DTS \u8f6c\u6362\u4e3a C \u6e90\u7801\uff0c\u56e0\u6b64\u65e0\u9700\u5728\u6b64\u5904\u6307\u5b9a\u5355\u4e2a\u5355\u5143\u683c\u7684\u5b57\u8282\u5e8f\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"64 \u4f4d\u6574\u6570\u4ee5\u5927\u7aef\u5e8f\uff08 big-endian \uff09\u5199\u5165\u4e24\u4e2a 32 \u4f4d\u5355\u5143\u3002\u4f8b\u5982\u503c 0xaaaa0000bbbb1111 \u9700\u8981\u5199\u5165\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"<0xaaaa0000 0xbbbb1111>")," \u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e0a\u8868 uint8-array \u793a\u4f8b\u4e2d\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"a-byte-array")," \u5c5e\u6027\u503c\u662f\u4e09\u4e2a\u5b57\u8282\uff0c\u4f9d\u6b21\u4e3a 0x00\u30010x01 \u548c 0xab\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5141\u8bb8\u4f7f\u7528\u62ec\u53f7\u3001\u7b97\u672f\u8fd0\u7b97\u7b26\u548c\u4f4d\u8fd0\u7b97\u7b26\u3002 \u4e0b\u4f8b ",(0,r.kt)("inlineCode",{parentName:"p"},"bar")," \u5c5e\u6027\u5305\u542b\u4e00\u4e2a\u503c\u4e3a 64 \u7684\u5355\u5143\u683c\uff1a"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-c"},"bar = <(2 * (1 << 5))>;\n")),(0,r.kt)("p",{parentName:"li"},"\u8bf7\u6ce8\u610f\uff0c\u6574\u4e2a\u8868\u8fbe\u5f0f\u5fc5\u987b\u7528\u5c16\u62ec\u53f7\u62ec\u8d77\u6765\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5c5e\u6027\u503c\u901a\u8fc7\u5b83\u4eec\u7684 phandles \u5f15\u7528\u8bbe\u5907\u6811\u4e2d\u7684\u5176\u4ed6\u8282\u70b9\u3002\u5047\u8bbe ",(0,r.kt)("inlineCode",{parentName:"p"},"foo")," \u662f\u4e00\u4e2a ",(0,r.kt)("a",{parentName:"p",href:"#node-label"},"\u8282\u70b9\u6807\u7b7e")," \uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"&foo")," \u7684\u65b9\u5f0f\u58f0\u660e\u4e00\u4e2a\u5f15\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"foo")," \u7684 phandle \u3002\u8fd9\u662f\u4e00\u4e2a\u793a\u4f8b\u8bbe\u5907\u6811\u7247\u6bb5\uff1a"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-c"},"foo: device@0 { };\ndevice@1 {\n        sibling = <&foo 1 2>;\n};\n")),(0,r.kt)("p",{parentName:"li"},"\u8282\u70b9 ",(0,r.kt)("inlineCode",{parentName:"p"},"device@1")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"sibling")," \u5c5e\u6027\u5305\u542b\u4e09\u4e2a\u5355\u5143\u683c\uff0c\u987a\u5e8f\u5982\u4e0b\uff1a"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"device@0")," \u8282\u70b9\u7684 phandle \uff0c\u56e0\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"device@0")," \u8282\u70b9\u6709\u4e00\u4e2a\u8282\u70b9\u6807\u7b7e ",(0,r.kt)("inlineCode",{parentName:"p"},"foo"),"\uff0c\u6240\u4ee5\u8fd9\u91cc\u5199\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"&foo")," ")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6570\u503c 1")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6570\u503c 2"))),(0,r.kt)("p",{parentName:"li"},"\u5728\u8bbe\u5907\u6811\u4e2d\uff0c\u4e00\u4e2a phandle \u503c\u662f\u4e00\u4e2a\u5355\u5143\u683c \u2014\u2014 \u8fd9\u53c8\u662f\u4e00\u4e2a 32 \u4f4d\u65e0\u7b26\u53f7\u6574\u6570\u3002\u4f46\u662f\uff0cZephyr \u8bbe\u5907\u6811 API \u901a\u5e38\u5c06\u8fd9\u4e9b\u503c\u516c\u5f00\u4e3a ",(0,r.kt)("em",{parentName:"p"},"\u8282\u70b9\u6807\u8bc6\u7b26")," \u3002\u8282\u70b9\u6807\u8bc6\u7b26\u5c06\u5728 ",(0,r.kt)("a",{parentName:"p",href:"./api_usage"},"\u4ece C/C++ \u8bbf\u95ee\u8bbe\u5907\u6811")," \u7ae0\u8282\u4e2d\u66f4\u8be6\u7ec6\u5730\u4ecb\u7ecd\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6570\u7ec4\u548c\u7c7b\u4f3c\u7c7b\u578b\u7684\u5c5e\u6027\u503c\u53ef\u4ee5\u5206\u6210\u82e5\u5e72\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"<>")," \u5757\uff0c\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-c"},"foo = <1 2>, <3 4>;                         // Okay for 'type: array'\nfoo = <&label1 &label2>, <&label3 &label4>; // Okay for 'type: phandles'\nfoo = <&label1 1 2>, <&label2 3 4>;         // Okay for 'type: phandle-array'\n")),(0,r.kt)("p",{parentName:"li"},"\u6211\u4eec\u5efa\u8bae\u4f60\u8bbe\u7f6e\u5c5e\u6027\u503c\u65f6\u5c3d\u53ef\u80fd\u63d0\u9ad8\u53ef\u8bfb\u6027\uff0c\u5c24\u5176\u662f\u503c\u53ef\u4ee5\u5728\u903b\u8f91\u4e0a\u5206\u7ec4\u4e3a\u5b50\u503c\u5757\u7684\u65f6\u5019\u3002"))),(0,r.kt)("h2",{id:"\u522b\u540d-alias-\u4e0e\u88ab\u9009\u4e2d\u7684\u8282\u70b9-chosen-nodes-"},"\u522b\u540d\uff08 alias \uff09\u4e0e\u88ab\u9009\u4e2d\u7684\u8282\u70b9\uff08 chosen nodes \uff09"),(0,r.kt)("p",null,"\u9664\u4e86 ",(0,r.kt)("a",{parentName:"p",href:"#node-label"},"\u8282\u70b9\u6807\u7b7e")," \u4e4b\u5916\uff0c\u8fd8\u6709\u53e6\u5916\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5728\u4e0d\u6307\u5b9a\u6574\u4e2a\u8def\u5f84\u7684\u60c5\u51b5\u4e0b\u5f15\u7528\u7279\u5b9a\u8282\u70b9\uff1a\u522b\u540d\uff08 alias \uff09\u6216\u9009\u62e9\u7684\u8282\u70b9 \uff08 chosen node \uff09\u3002"),(0,r.kt)("p",null,"\u8fd9\u662f\u4e00\u4e2a\u4f7f\u7528\u4e0a\u8ff0\u4e24\u79cd\u65b9\u5f0f\u7684\u793a\u4f8b\u8bbe\u5907\u6811\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-c"},"/dts-v1/;\n\n/ {\n     chosen {\n             zephyr,console = &uart0;\n     };\n\n     aliases {\n             my-uart = &uart0;\n     };\n\n     soc {\n             uart0: serial@12340000 {\n                     ...\n             };\n     };\n};\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"/aliases")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"/chosen")," \u8282\u70b9\u4e0d\u662f\u6307\u5b9e\u9645\u7684\u786c\u4ef6\u8bbe\u5907\u3002\u5b83\u4eec\u65e8\u5728\u53ef\u6307\u5411\u8bbe\u5907\u6811\u4e2d\u7684\u5176\u4ed6\u8282\u70b9\u3002"),(0,r.kt)("p",null,"\u4e0a\u8ff0\u793a\u4f8b\u4e2d\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"my-uart")," \u662f\u4e00\u4e2a\u522b\u540d\uff0c\u7528\u4e8e\u6307\u5411\u8def\u5f84 ",(0,r.kt)("inlineCode",{parentName:"p"},"/soc/serial@12340000")," \u7684\u8282\u70b9\u3002\u5b83\u4f7f\u7528\u5176\u8282\u70b9\u6807\u7b7e ",(0,r.kt)("inlineCode",{parentName:"p"},"uart0")," \u58f0\u660e\u4e3a\u5f15\u7528\uff0c\u8fd9\u91cc\u7684\u540c\u4e00\u8282\u70b9\u4e5f\u8bbe\u7f6e\u4e3a\u6240\u9009 ",(0,r.kt)("inlineCode",{parentName:"p"},"zephyr,console")," \u8282\u70b9\u7684\u503c\u3002"),(0,r.kt)("p",null,"\u6709\u65f6\u5728 Zephyr \u793a\u4f8b\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u4e00\u79cd\u901a\u7528\u7684\u65b9\u5f0f\u662f\u4f7f\u7528\u522b\u540d\u6765\u5141\u8bb8\u8986\u76d6\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u7684\u7279\u5b9a\u786c\u4ef6\u8bbe\u5907\u3002\u4f8b\u5982\uff0c ",(0,r.kt)("a",{parentName:"p",href:"/docs-csk6/chips/600X/application/peripheral/samples/gpio"},"GPIO \u793a\u4f8b")," \u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u901a\u8fc7 ",(0,r.kt)("inlineCode",{parentName:"p"},"led0")," \u522b\u540d\u6765\u62bd\u8c61\u8981\u95ea\u70c1\u7684 LED \u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"/chosen")," \u8282\u70b9\u7684\u5c5e\u6027\u7528\u4e8e\u914d\u7f6e\u7cfb\u7edf\u6216\u5b50\u7cfb\u7edf\u8303\u56f4\u7684\u503c\u3002\u8bf7\u53c2\u9605 ",(0,r.kt)("a",{parentName:"p",href:"./api#%E9%80%89%E6%8B%A9%E7%9A%84%E8%8A%82%E7%82%B9"},"\u9009\u62e9\u7684\u8282\u70b9")," \u4e86\u89e3\u76f8\u5173\u8be6\u7ec6\u4fe1\u606f\u3002"),(0,r.kt)("h2",{id:"\u8f93\u5165\u4e0e\u8f93\u51fa\u6587\u4ef6"},"\u8f93\u5165\u4e0e\u8f93\u51fa\u6587\u4ef6"),(0,r.kt)("p",null,"\u672c\u8282\u66f4\u8be6\u7ec6\u5730\u63cf\u8ff0\u4e86 ",(0,r.kt)("a",{parentName:"p",href:"#%E8%AE%BE%E5%A4%87%E6%A0%91%E6%A6%82%E8%BF%B0"},"\u672c\u4ecb\u7ecd\u6700\u5f00\u59cb")," \u7684\u56fe\u4e2d\u6240\u793a\u7684\u8f93\u5165\u548c\u8f93\u51fa\u6587\u4ef6\u3002"),(0,r.kt)("div",{style:{textAlign:"center"}},(0,r.kt)("p",null,(0,r.kt)("img",{src:n(30415).Z})),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"\u8bbe\u5907\u6811\u8f93\u5165\uff08\u7eff\u8272\uff09\u548c\u8f93\u51fa\uff08\u9ec4\u8272\uff09\u6587\u4ef6"))),(0,r.kt)("h3",{id:"\u8f93\u5165\u6587\u4ef6"},"\u8f93\u5165\u6587\u4ef6"),(0,r.kt)("p",null,"\u6709\u56db\u79cd\u7c7b\u578b\u7684\u8bbe\u5907\u6811\u8f93\u5165\u6587\u4ef6\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8bbe\u5907\u6811\u6e90\u7801 (",(0,r.kt)("inlineCode",{parentName:"li"},".dts"),")"),(0,r.kt)("li",{parentName:"ul"},"\u8bbe\u5907\u6811\u5305\u542b\u6587\u4ef6 (",(0,r.kt)("inlineCode",{parentName:"li"},".dtsi"),")"),(0,r.kt)("li",{parentName:"ul"},"\u8bbe\u5907\u6811\u8986\u76d6 (",(0,r.kt)("inlineCode",{parentName:"li"},".overlay"),")"),(0,r.kt)("li",{parentName:"ul"},"\u8bbe\u5907\u6811\u7ed1\u5b9a (",(0,r.kt)("inlineCode",{parentName:"li"},".yaml"),")")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"zephyr")," \u76ee\u5f55\u4e2d\u7684\u8bbe\u5907\u6811\u6587\u4ef6\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"boards/<ARCH>/<BOARD>/<BOARD>.dts\ndts/common/skeleton.dtsi\ndts/<ARCH>/.../<SOC>.dtsi\ndts/bindings/.../binding.yaml\n")),(0,r.kt)("p",null,"\u4e00\u822c\u6765\u8bf4\uff0c\u6bcf\u4e2a\u652f\u6301\u7684\u677f\u90fd\u6709\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"BOARD.dts")," \u6587\u4ef6\u6765\u63cf\u8ff0\u5b83\u7684\u786c\u4ef6\u3002\u4f8b\u5982\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"csk6002_9s_nano")," \u5bf9\u5e94 ",(0,r.kt)("a",{parentName:"p",href:"https://cloud.listenai.com/zephyr/zephyr/-/blob/master/boards/arm/csk6002_9s_nano/csk6002_9s_nano.dts"},"boards/arm/csk6002_9s_nano/csk6002_9s_nano.dts")," \u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"BOARD.dts")," \u53ef\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},".dtsi")," \u6587\u4ef6\u3002\u8fd9\u4e9b ",(0,r.kt)("inlineCode",{parentName:"p"},".dtsi")," \u6587\u4ef6\u63cf\u8ff0\u4e86 Zephyr \u8fd0\u884c\u7684 CPU \u6216\u677f\u8f7d\u7cfb\u7edf\uff0c\u53ef\u80fd\u5305\u542b\u5176\u4ed6 ",(0,r.kt)("inlineCode",{parentName:"p"},".dtsi")," \u6587\u4ef6\u3002\u5b83\u4eec\u8fd8\u53ef\u4ee5\u63cf\u8ff0\u591a\u4e2a\u677f\u5171\u4eab\u7684\u5176\u4ed6\u5e38\u89c1\u786c\u4ef6\u529f\u80fd\u3002\u9664\u4e86\u8fd9\u4e9b\u5305\u542b\u6587\u4ef6\u4e4b\u5916\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"BOARD.dts")," \u8fd8\u63cf\u8ff0\u4e86\u677f\u578b\u4e0a\u7684\u7279\u5b9a\u786c\u4ef6\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"dts/common")," \u76ee\u5f55\u5305\u542b ",(0,r.kt)("inlineCode",{parentName:"p"},"skeleton.dtsi")," \uff0c\u8fd9\u662f\u4e00\u4e2a\u7528\u4e8e\u5b9a\u4e49\u5b8c\u6574\u8bbe\u5907\u6811\u7684\u6700\u5c0f\u5305\u542b\u6587\u4ef6\u3002\u7279\u5b9a\u4e8e\u4f53\u7cfb\u7ed3\u6784\u7684\u5b50\u76ee\u5f55 (",(0,r.kt)("inlineCode",{parentName:"p"},"dts/<ARCH>"),") \u4e2d\u5305\u542b\u7684\u3001\u7528\u4e8e\u63cf\u8ff0 CPU \u6216 SoC \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},".dtsi")," \u6587\u4ef6\u90fd\u57fa\u4e8e ",(0,r.kt)("inlineCode",{parentName:"p"},"skeleton.dtsi")," \u62d3\u5c55\u3002"),(0,r.kt)("p",null,"\u4e3a\u4e86\u5c55\u5f00\u6240\u6709\u5b8f\u5f15\u7528\uff0c C \u9884\u5904\u7406\u5668\u4f1a\u5728\u6240\u6709\u8bbe\u5907\u6811\u6587\u4ef6\u4e0a\u8fd0\u884c\uff0c\u5e76\u4e14\u5305\u542b\u64cd\u4f5c\u901a\u5e38\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"#include <filename>")," \u6307\u4ee4\u5b8c\u6210\uff0c\u5373\u4f7f\u5728 DTS \u4e2d\u6709 ",(0,r.kt)("inlineCode",{parentName:"p"},'/include/ "<filename>"')," \u8bed\u6cd5\u3002"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"overlay")," \uff08\u8986\u76d6\uff09\u6587\u4ef6\u53ef\u7528\u4e8e\u5bf9 ",(0,r.kt)("inlineCode",{parentName:"p"},"BOARD.dts")," \u8fdb\u884c\u6269\u5c55\u6216\u4fee\u6539\u3002 overlay \u6587\u4ef6\u4e5f\u662f DTS \u683c\u5f0f\u7684\u6587\u4ef6\uff1b ",(0,r.kt)("inlineCode",{parentName:"p"},".overlay")," \u6269\u5c55\u540d\u53ea\u662f\u4e00\u4e2a\u660e\u786e\u5176\u76ee\u7684\u7684\u7ea6\u5b9a\u3002 overlay \u7528\u5c06\u57fa\u7840\u8bbe\u5907\u6811\u7528\u4e8e\u4e0d\u540c\u7684\u76ee\u7684\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Zephyr \u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u4f7f\u7528 overlay \u6765\u542f\u7528\u9ed8\u8ba4\u7981\u7528\u7684\u5916\u56f4\u8bbe\u5907\u3001\u4e3a\u7279\u5b9a\u5e94\u7528\u7a0b\u5e8f\u9009\u62e9\u677f\u4e0a\u7684\u4f20\u611f\u5668\u7b49\u3002\u914d\u5408 ",(0,r.kt)("a",{parentName:"p",href:"/docs-csk6/chips/600X/build/kconfig/index"},"\u914d\u7f6e\u7cfb\u7edf (Kconfig)")," \uff0c\u53ef\u5b9e\u73b0\u65e0\u9700\u4fee\u6539\u5373\u53ef\u91cd\u65b0\u914d\u7f6e\u5185\u6838\u548c\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u6e90\u4ee3\u7801\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b9a\u4e49 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.zephyrproject.org/latest/hardware/porting/shields.html#shields"},"Shields")," \u65f6\u4e5f\u4f1a\u4f7f\u7528 overlay \u3002"))),(0,r.kt)("p",null,"\u6784\u5efa\u7cfb\u7edf\u4f1a\u81ea\u52a8\u6536\u96c6\u5b58\u50a8\u5728\u7279\u5b9a\u4f4d\u7f6e\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},".overlay")," \u6587\u4ef6\u3002\u8fd8\u53ef\u4ee5\u901a\u8fc7 CMake \u53d8\u91cf ",(0,r.kt)("strong",{parentName:"p"},"DTC_OVERLAY_FILE")," \u663e\u5f0f\u5217\u51fa\u8981\u5305\u542b\u7684 overlay \u6587\u4ef6\u3002\u8bf7\u53c2\u9605 ",(0,r.kt)("a",{parentName:"p",href:"/docs-csk6/chips/600X/build/dts/howtos#%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%E8%AE%BE%E5%A4%87%E6%A0%91-overlay"},"\u8bbe\u7f6e\u8bbe\u5907\u6811 overlay")," \u4e86\u89e3\u76f8\u5173\u8be6\u7ec6\u4fe1\u606f\u3002"),(0,r.kt)("p",null,"\u6784\u5efa\u7cfb\u7edf\u901a\u8fc7\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"BOARD.dts")," \u548c\u4efb\u4f55 ",(0,r.kt)("inlineCode",{parentName:"p"},".overlay")," \u6587\u4ef6\u5173\u8054\u8d77\u6765\uff0c\u5c06\u5b83\u4eec\u7ec4\u5408\u5728\u4e00\u8d77\uff0coverlay \u5728\u6700\u540e\u653e\u5165\u3002\u8fd9\u4f9d\u8d56\u4e8e DTS \u8bed\u6cd5\u4e2d\u5141\u8bb8\u5408\u5e76\u8bbe\u5907\u6811\u4e2d\u8282\u70b9\u7684\u91cd\u590d\u5b9a\u4e49\u7684\u8bbe\u8ba1\u3002\u6709\u5173\u5176\u5de5\u4f5c\u539f\u7406\u7684\u793a\u4f8b\uff0c\u8bf7\u53c2\u89c1 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.zephyrproject.org/latest/hardware/porting/board_porting.html#dt-k6x-example"},"\u793a\u4f8b\uff1aFRDM-K64F \u548c Hexiwear K64")," \uff08\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},".dtsi")," \u6587\u4ef6\u7684\u4e0a\u4e0b\u6587\u4e2d\uff0c\u4f46 overlay \u6587\u4ef6\u7684\u539f\u7406\u76f8\u540c\uff09\u3002\u6700\u540e\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},".overlay")," \u6587\u4ef6\u7684\u5185\u5bb9\u653e\u8fdb\u6765\u4ee5\u5141\u8bb8\u5b83\u4eec\u8986\u76d6 ",(0,r.kt)("inlineCode",{parentName:"p"},"BOARD.dts")," \u3002"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/docs-csk6/chips/600X/build/dts/bindings"},"\u8bbe\u5907\u6811\u7ed1\u5b9a")," \uff08 YAML \u6587\u4ef6\uff09\u672c\u8d28\u4e0a\u662f\u80f6\u6c34\u4ee3\u7801\uff08\u5373\u7528\u4e8e\u9002\u914d\u539f\u672c\u4e0d\u517c\u5bb9\u903b\u8f91\u7684\u4ee3\u7801\u7684\uff09\u3002\u4ed6\u4eec\u901a\u8fc7\u5141\u8bb8\u6784\u5efa\u7cfb\u7edf\u751f\u6210\u53ef\u4f9b\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u548c\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u7684 C \u5b8f\u7684\u65b9\u5f0f\uff0c\u63cf\u8ff0\u4e86\u8bbe\u5907\u6811\u6e90\u7801\u3001\u5305\u542b\uff08 include \uff09\u548c\u8986\u76d6\uff08 overlay \uff09\u7684\u5185\u5bb9\u3002  ",(0,r.kt)("inlineCode",{parentName:"p"},"dts/bindings")," \u76ee\u5f55\u5305\u542b\u7ed1\u5b9a\u3002"),(0,r.kt)("h4",{id:"\u811a\u672c\u4e0e\u5de5\u5177"},"\u811a\u672c\u4e0e\u5de5\u5177"),(0,r.kt)("p",null,"\u4ee5\u4e0b\u5e93\u548c\u811a\u672c\u4f4d\u4e8e ",(0,r.kt)("a",{parentName:"p",href:"https://cloud.listenai.com/zephyr/zephyr/-/blob/master/scripts/dts/"},"scripts/dts/")," \u4e2d\uff0c\u7528\u4e8e\u4ece\u8f93\u5165\u6587\u4ef6\u521b\u5efa\u8f93\u51fa\u6587\u4ef6\u3002\u4ed6\u4eec\u7684\u6e90\u7801\u4e2d\u5305\u542b\u5927\u91cf\u7684\u6587\u6863\u3002"),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},(0,r.kt)("a",{href:"https://cloud.listenai.com/zephyr/zephyr/-/blob/master/scripts/dts/python-devicetree/src/devicetree/dtlib.py",style:{color:"var(--ra-color-note)"}},"dtlib.py")),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u4e00\u4e2a\u5e95\u5c42 DTS \u89e3\u6790\u5e93\u3002")),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},(0,r.kt)("a",{href:"https://cloud.listenai.com/zephyr/zephyr/-/blob/master/scripts/dts/python-devicetree/src/devicetree/edtlib.py",style:{color:"var(--ra-color-note)"}},"edtlib.py")),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u4e00\u4e2a\u5c42\u7ea7\u4f4d\u4e8e dtlib \u4e4b\u4e0a\u7684\u5e93\uff0c\u5b83\u4f7f\u7528\u7ed1\u5b9a\u6765\u89e3\u91ca\u5c5e\u6027\u5e76\u63d0\u4f9b\u8bbe\u5907\u6811\u7684\u66f4\u9ad8\u7ea7\u522b\u89c6\u56fe\u3002\u4f7f\u7528 dtlib \u8fdb\u884c DTS \u89e3\u6790\u3002")),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},(0,r.kt)("a",{href:"https://cloud.listenai.com/zephyr/zephyr/-/blob/master/scripts/dts/gen_defines.py",style:{color:"var(--ra-color-note)"}},"gen_defines.py")),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u4f7f\u7528 edtlib \u4ece\u8bbe\u5907\u6811\u548c\u7ed1\u5b9a\u751f\u6210 C \u9884\u5904\u7406\u5668\u5b8f\u7684\u811a\u672c\u3002")),(0,r.kt)("p",null,"\u9664\u6b64\u4e4b\u5916\uff0c\u5982\u679c\u4f60\u7684\u7cfb\u7edf\u4e0a\u5b89\u88c5\u4e86\u6807\u51c6 ",(0,r.kt)("inlineCode",{parentName:"p"},"dtc")," \uff08\u8bbe\u5907\u6811\u7f16\u8bd1\u5668\uff09\u5de5\u5177\uff0c\u5b83\u4f1a\u5728\u6700\u7ec8\u7684\u8bbe\u5907\u6811\u4e0a\u8fd0\u884c\u3002\u8fd9\u53ea\u662f\u4e3a\u4e86\u6355\u83b7\u9519\u8bef\u6216\u8b66\u544a\uff0c\u5176\u8f93\u51fa\u662f\u672a\u88ab\u4f7f\u7528\u7684\u3002\u677f\u578b\u53ef\u80fd\u9700\u8981\u4f20\u9012 ",(0,r.kt)("inlineCode",{parentName:"p"},"dtc")," \u9644\u52a0\u6807\u5fd7\uff0c\u4f8b\u5982\u7528\u4e8e\u6291\u5236\u8b66\u544a\u3002 \u677f\u578b\u76ee\u5f55\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"pre_dt_board.cmake")," \u7684\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u7528\u4e8e\u914d\u7f6e\u8fd9\u4e9b\u989d\u5916\u7684\u6807\u5fd7\uff0c\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-c"},'list(APPEND EXTRA_DTC_FLAGS "-Wno-simple_bus_reg")\n')),(0,r.kt)("h3",{id:"\u8f93\u51fa\u6587\u4ef6"},"\u8f93\u51fa\u6587\u4ef6"),(0,r.kt)("p",null,"\u4ee5\u4e0b\u662f\u5728\u5e94\u7528\u7a0b\u5e8f\u7684\u6784\u5efa\u76ee\u5f55\u4e2d\u521b\u5efa\u7684\u6587\u4ef6\u3002"),(0,r.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"\u8b66\u544a")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u867d\u7136\u8bbe\u5907\u6811\u5404\u4e2a\u8282\u70b9\u7684\u4fe1\u606f\u90fd\u5c06\u5728\u5934\u6587\u4ef6\u4ee5\u5b8f\u7684\u5f62\u5f0f\u5b58\u5728\uff0c\u4f46\u4e0d\u8981\u76f4\u63a5\u5f15\u7528\u4ed6\u4eec\uff01 ",(0,r.kt)("a",{parentName:"p",href:"/docs-csk6/chips/600X/build/dts/api_usage"},"\u4ece C/C++ \u8bbf\u95ee\u8bbe\u5907\u6811")," \u7ae0\u8282\u4e2d\u89e3\u91ca\u4e86\u6b63\u786e\u7684\u505a\u6cd5\u662f\u600e\u6837\u7684\u3002"))),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},(0,r.kt)("code",{style:{background:"var(--ra-color-note)",color:"var(--ra-color-important)"}},"<build>/zephyr/zephyr.dts.pre")),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u9884\u5904\u7406\u7684 DTS \u6e90\u3002\u8fd9\u662f\u4e00\u4e2a\u4e2d\u95f4\u8f93\u51fa\u6587\u4ef6\uff0c\u5b83\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"gen_defines.py")," \u7684\u8f93\u5165\uff0c\u7528\u4e8e\u521b\u5efa ",(0,r.kt)("inlineCode",{parentName:"p"},"zephyr.dts")," \u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"devicetree_unfixed.h")," \u3002")),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},(0,r.kt)("code",{style:{background:"var(--ra-color-note)",color:"var(--ra-color-important)"}},"<build>/zephyr/include/generated/devicetree_unfixed.h")),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u751f\u6210\u7684\u5b8f\u548c\u9644\u52a0\u6ce8\u91ca\uff0c\u8fd9\u91cc\u7684\u6ce8\u91ca\u7528\u4e8e\u63cf\u8ff0\u8bbe\u5907\u6811\u3002\u5305\u542b\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"devicetree.h")," \u4e2d\u3002")),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},(0,r.kt)("code",{style:{background:"var(--ra-color-note)",color:"var(--ra-color-important)"}},"<build>/zephyr/include/generated/devicetree_fixups.h")),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u4efb\u4f55 ",(0,r.kt)("inlineCode",{parentName:"p"},"dts_fixup.h")," \u6587\u4ef6\u7684\u4e32\u8054\u5185\u5bb9\u3002\u5305\u542b\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"devicetree.h")," \u4e2d\u3002")),(0,r.kt)("h4",{style:{background:"var(--ra-color-important)",color:"var(--ra-color-note)",padding:4}},(0,r.kt)("code",{style:{background:"var(--ra-color-note)",color:"var(--ra-color-important)"}},"<build>/zephyr/zephyr.dts")),(0,r.kt)("div",{style:{paddingLeft:16}},(0,r.kt)("p",null,"\u6700\u7ec8\u5408\u5e76\u7684\u8bbe\u5907\u6811\u3002\u8be5\u6587\u4ef6\u7531 ",(0,r.kt)("inlineCode",{parentName:"p"},"gen_defines.py")," \u8f93\u51fa\u3002\u5b83\u5bf9\u4e8e\u8c03\u8bd5\u4efb\u4f55\u95ee\u9898\u90fd\u5f88\u6709\u7528\u3002\u5982\u679c\u5b89\u88c5\u4e86\u8bbe\u5907\u6811\u7f16\u8bd1\u5668 ",(0,r.kt)("inlineCode",{parentName:"p"},"dtc")," \uff0c\u5b83\u4e5f\u4f1a\u5728\u6b64\u6587\u4ef6\u4e0a\u8fd0\u884c\uff0c\u4ee5\u6355\u83b7\u4efb\u4f55\u5176\u4ed6\u8b66\u544a\u6216\u9519\u8bef\u3002")))}k.isMDXComponent=!0},6284:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/zephyr_dt_build_flow-25639e70a4c1ba3be5e73b9d3623f362.png"},53794:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/zephyr_dt_i2c_example-21089eee6e0a456c8fddb6a30c04d0f2.png"},61807:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/zephyr_dt_i2c_high_level-21f97412bcc9cd5b7f5cf0dceb41f5d7.png"},30415:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/zephyr_dt_inputs_outputs-440c8db0273292e6db9be9a965159e3c.svg"}}]);